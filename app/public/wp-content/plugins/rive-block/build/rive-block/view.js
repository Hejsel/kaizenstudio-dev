(()=>{"use strict";const e=new class{constructor(e="cache"){this.name=e,this.cache=new Map}has(e){return this.cache.has(e)}get(e){return this.cache.get(e)}set(e,t){this.cache.set(e,t)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}size(){return this.cache.size}}("rive-files"),t=new class{constructor(e="tracker"){this.name=e,this.loaded=new Set}has(e){return this.loaded.has(e)}add(e){this.loaded.add(e)}clear(){this.loaded.clear()}size(){return this.loaded.size}}("rive-urls"),r="[Rive Memory Cache]";function n(e,t="[Rive]"){if(!e)return!1;const r=e.getBoundingClientRect(),n=r.width,a=r.height,i=window.devicePixelRatio||1,o=Math.round(n*i),s=Math.round(a*i);return(e.width!==o||e.height!==s)&&(e.width=o,e.height=s,window.riveBlockData?.debug&&console.log(`${t} Canvas DPI sizing: ${n}×${a} CSS → ${e.width}×${e.height} internal (DPR: ${i})`),!0)}function a(e){const{rive:t,artboard:r,renderer:n,animation:a,canvas:i,animationFPS:o,animationFrameIdRef:l,logPrefix:c="[Rive]",onFrameCheck:u=null}=e,d=l||e;let f=0,h=0;const m=o||60,g=1e3/m;window.riveBlockData?.debug&&console.log(`${c} Render loop FPS: ${m} (matching animation FPS)`);const v=e=>{if(u&&!u())return;if(e-h<g)return void s(d,t.requestAnimationFrame(v));h=e;const o=f?(e-f)/1e3:0;f=e,n.clear(),n.save(),a&&(a.advance(o),a.apply(1)),r.advance(o),n.align(t.Fit.contain,t.Alignment.center,{minX:0,minY:0,maxX:i.width,maxY:i.height},r.bounds),r.draw(n),n.restore(),n.flush(),s(d,t.requestAnimationFrame(v))};s(d,t.requestAnimationFrame(v))}function i(e){const{rive:t,artboard:r,renderer:n,canvas:a}=e;n.clear(),n.save(),n.align(t.Fit.contain,t.Alignment.center,{minX:0,minY:0,maxX:a.width,maxY:a.height},r.bounds),r.draw(n),n.restore(),n.flush()}function o(e){return e?void 0!==e.current?e.current:e.animationFrameId:null}function s(e,t){e&&(void 0!==e.current?e.current=t:e.animationFrameId=t)}var l;const c=(l="undefined"!=typeof document?document.currentScript?.src:void 0,function(e={}){var t,r,n=e,a=new Promise((e,n)=>{t=e,r=n}),i="object"==typeof window,o="function"==typeof importScripts;function s(){function e(e){const i=n;r=t=0,n=new Map,i.forEach(t=>{try{t(e)}catch(e){console.error(e)}}),this.mb(),a&&a.Mb()}let t=0,r=0,n=new Map,a=null,i=null;this.requestAnimationFrame=function(a){t||=requestAnimationFrame(e.bind(this));const i=++r;return n.set(i,a),i},this.cancelAnimationFrame=function(e){n.delete(e),t&&0==n.size&&(cancelAnimationFrame(t),t=0)},this.Kb=function(e){i&&(document.body.remove(i),i=null),e||(i=document.createElement("div"),i.style.backgroundColor="black",i.style.position="fixed",i.style.right=0,i.style.top=0,i.style.color="white",i.style.padding="4px",i.innerHTML="RIVE FPS",e=function(e){i.innerHTML="RIVE FPS "+e.toFixed(1)},document.body.appendChild(i)),a=new function(){let t=0,r=0;this.Mb=function(){var n=performance.now();r?(++t,1e3<(n-=r)&&(e(1e3*t/n),t=r=0)):(r=n,t=0)}}},this.mb=function(){}}function c(){const e=new Map;let t=-1/0;this.push=function(r){return r=r+255>>8,e.has(r)&&clearTimeout(e.get(r)),e.set(r,setTimeout(function(){e.delete(r),0==e.length?t=-1/0:r==t&&(t=Math.max(...e.keys()),console.assert(t<r))},1e3)),t=Math.max(r,t),t<<8}}const u=n.onRuntimeInitialized;n.onRuntimeInitialized=function(){u&&u();let e=n.decodeAudio;n.decodeAudio=function(t,r){r(t=e(t))};let t=n.decodeFont;n.decodeFont=function(e,r){r(e=t(e))};const r=n.FileAssetLoader;n.ptrToAsset=e=>{let t=n.ptrToFileAsset(e);return t.isImage?n.ptrToImageAsset(e):t.isFont?n.ptrToFontAsset(e):t.isAudio?n.ptrToAudioAsset(e):t},n.CustomFileAssetLoader=r.extend("CustomFileAssetLoader",{__construct:function({loadContents:e}){this.__parent.__construct.call(this),this.Bb=e},loadContents:function(e,t){return e=n.ptrToAsset(e),this.Bb(e,t)}}),n.CDNFileAssetLoader=r.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(e){let t=n.ptrToAsset(e);return""!==(e=t.cdnUuid)&&(r=t.cdnBaseUrl+"/"+e,(a=new XMLHttpRequest).responseType="arraybuffer",a.onreadystatechange=function(){4==a.readyState&&200==a.status&&(e=>{t.decode(new Uint8Array(e.response))})(a)},a.open("GET",r,!0),a.send(null),!0);var r,a}}),n.FallbackFileAssetLoader=r.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.ib=[]},addLoader:function(e){this.ib.push(e)},loadContents:function(e,t){for(let r of this.ib)if(r.loadContents(e,t))return!0;return!1}});let a=n.computeAlignment;n.computeAlignment=function(e,t,r,n,i=1){return a.call(this,e,t,r,n,i)}};const d=n.onRuntimeInitialized;n.onRuntimeInitialized=function(){function e(e){this.G=e,this.Ab=e.getContext("2d"),this.Db=a,this.S=[],this.ka=0,this.clear=function(){console.assert(0==this.ka),this.S=[],i.delete(this)},this.save=function(){++this.ka,this.S.push(a.save.bind(a))},this.restore=function(){0<this.ka&&(this.S.push(a.restore.bind(a)),--this.ka)},this.transform=function(e){this.S.push(a.transform.bind(a,e))},this.align=function(e,t,r,n,i=1){this.S.push(a.align.bind(a,e,t,r,n,i))},this.flush=function(){console.assert(0==this.ka),i.add(this),a.Ya||r()},this.delete=function(){}}function t(e,t=!1){var r={alpha:!0,depth:t,stencil:t,antialias:t,premultipliedAlpha:!0,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:!1,explicitSwapControl:0,renderViaOffscreenBackBuffer:0};if(!(t=e.getContext("webgl2",r)))return null;r=Rr(t,r),Tr(r);const n=o(e.width,e.height);n.La=r,n.G=e,n.Ma=e.width,n.Za=e.height,n.T=t;var a=n.delete;return n.delete=function(){a.call(this);var e=this.La;Ht===Br[e]&&(Ht=null),"object"==typeof JSEvents&&JSEvents.Kc(Br[e].C.canvas),Br[e]&&Br[e].C.canvas&&(Br[e].C.canvas.zb=void 0),this.La=this.G=this.Ma=this.T=Br[e]=null},n}function r(){if(a){var e=a.Cb,t=0,r=0,o=0,s=Array(i.size),l=0;for(var c of i)c.fa=Math.min(c.G.width,e),c.ea=Math.min(c.G.height,e),c.Ja=c.ea*c.fa,t=Math.max(t,c.fa),r=Math.max(r,c.ea),o+=c.Ja,s[l++]=c;if(i.clear(),!(0>=o)){for(t=1<<(0>=t?0:32-Math.clz32(t-1)),r=1<<(0>=r?0:32-Math.clz32(r-1));r*t<o;)t<=r?t*=2:r*=2;for(t=Math.min(t,e),t=Math.min(r,e),s.sort((e,t)=>t.Ja-e.Ja),o=new n.DynamicRectanizer(e),c=0;c<s.length;){for(o.reset(t,r),l=c;l<s.length;++l){var u=s[l],d=o.addRect(u.fa,u.ea);if(0>d){console.assert(l>c);break}u.qa=65535&d,u.ra=d>>16}for(u=f.push(o.drawWidth()),d=h.push(o.drawHeight()),console.assert(u>=o.drawWidth()),console.assert(d>=o.drawHeight()),console.assert(u<=e),console.assert(d<=e),a.G.width!=u&&(a.G.width=u),a.G.height!=d&&(a.G.height=d),a.clear(),u=c;u<l;++u){d=s[u],a.saveClipRect(d.qa,d.ra,d.qa+d.fa,d.ra+d.ea);let e=new n.Mat2D;e.xx=d.fa/d.G.width,e.yy=d.ea/d.G.height,e.xy=e.yx=0,e.tx=d.qa,e.ty=d.ra,a.transform(e);for(const e of d.S)e();a.restoreClipRect(),d.S=[]}for(a.flush();c<l;++c)(d=(u=s[c]).Ab).globalCompositeOperation="copy",d.drawImage(a.G,u.qa,u.ra,u.fa,u.ea,0,0,u.G.width,u.G.height);c=l}}}}d&&d();let a=null;const i=new Set,o=n.makeRenderer;n.makeRenderer=function(r,n){if(!a){function i(e){var r=document.createElement("canvas");return r.width=1,r.height=1,a=t(r,e),a.Ya=!!a.T.getExtension("WEBGL_shader_pixel_local_storage"),a.Cb=Math.min(a.T.getParameter(a.T.MAX_RENDERBUFFER_SIZE),a.T.getParameter(a.T.MAX_TEXTURE_SIZE)),a.Ka=!a.Ya,(e=a.T.getExtension("WEBGL_debug_renderer_info"))&&(r=a.T.getParameter(e.UNMASKED_RENDERER_WEBGL),a.T.getParameter(e.UNMASKED_VENDOR_WEBGL).includes("Google")&&r.includes("ANGLE Metal Renderer")&&(a.Ka=!1)),a}a=i(!0),a.Ka||(a=i(!1))}return n?new e(r):t(r,a.Ka)};const l=n.Artboard.prototype.delete;n.Artboard.prototype.delete=function(){this.Eb=!0,l.call(this)};const u=n.Artboard.prototype.draw;n.Artboard.prototype.draw=function(e){e.S?e.S.push(()=>{this.Eb||u.call(this,e.Db)}):u.call(this,e)};const f=new c,h=new c,m=new s;n.requestAnimationFrame=m.requestAnimationFrame.bind(m),n.cancelAnimationFrame=m.cancelAnimationFrame.bind(m),n.enableFPSCounter=m.Kb.bind(m),m.mb=r,n.resolveAnimationFrame=r;let g=n.load;n.load=function(e,t,r=!0){const a=new n.FallbackFileAssetLoader;return void 0!==t&&a.addLoader(t),r&&(t=new n.CDNFileAssetLoader,a.addLoader(t)),Promise.resolve(g(e,a))};const v=n.WebGL2Renderer.prototype.clear;n.WebGL2Renderer.prototype.clear=function(){Tr(this.La);const e=this.G;this.Ma==e.width&&this.Za==e.height||(this.resize(e.width,e.height),this.Ma=e.width,this.Za=e.height),v.call(this)},n.decodeImage=function(e,t){t(e=n.decodeWebGL2Image(e))};let w=n.Renderer.prototype.align;n.Renderer.prototype.align=function(e,t,r,n,a=1){w.call(this,e,t,r,n,a)}};var f,h,m=Object.assign({},n),g="./this.program",v="";(i||o)&&(o?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),l&&(v=l),v=v.startsWith("blob:")?"":v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1),o&&(h=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{if(G(e)){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}else fetch(e,{credentials:"same-origin"}).then(e=>e.ok?e.arrayBuffer():Promise.reject(Error(e.status+" : "+e.url))).then(t,r)});var w,p=n.print||console.log.bind(console),b=n.printErr||console.error.bind(console);Object.assign(n,m),m=null,n.thisProgram&&(g=n.thisProgram),n.wasmBinary&&(w=n.wasmBinary);var _,y,A,E,k,P,x,B,C,$=!1;function S(){var e=_.buffer;n.HEAP8=y=new Int8Array(e),n.HEAP16=E=new Int16Array(e),n.HEAPU8=A=new Uint8Array(e),n.HEAPU16=k=new Uint16Array(e),n.HEAP32=P=new Int32Array(e),n.HEAPU32=x=new Uint32Array(e),n.HEAPF32=B=new Float32Array(e),n.HEAPF64=C=new Float64Array(e)}var D=[],F=[],R=[];function T(){var e=n.preRun.shift();D.unshift(e)}var j=0,L=null,W=null;function M(e){throw n.onAbort?.(e),b(e="Aborted("+e+")"),$=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),r(e),e}var I,O=e=>e.startsWith("data:application/octet-stream;base64,"),G=e=>e.startsWith("file://");function U(e){if(e==I&&w)return new Uint8Array(w);if(h)return h(e);throw"both async and sync fetching of the wasm failed"}function N(e,t,r){return function(e){return w?Promise.resolve().then(()=>U(e)):new Promise((t,r)=>{f(e,e=>t(new Uint8Array(e)),()=>{try{t(U(e))}catch(e){r(e)}})})}(e).then(e=>WebAssembly.instantiate(e,t)).then(r,e=>{b(`failed to asynchronously prepare wasm: ${e}`),M(e)})}var z,V,H={542927:(e,t,r,n,a)=>{if("undefined"==typeof window||void 0===(window.AudioContext||window.webkitAudioContext))return 0;if(void 0===window.h){window.h={Ea:0},window.h.I={},window.h.I.Ca=e,window.h.I.capture=t,window.h.I.Pa=r,window.h.ia={},window.h.ia.stopped=n,window.h.ia.ub=a;let i=window.h;i.D=[],i.lc=function(e){for(var t=0;t<i.D.length;++t)if(null==i.D[t])return i.D[t]=e,t;return i.D.push(e),i.D.length-1},i.yb=function(e){for(i.D[e]=null;0<i.D.length&&null==i.D[i.D.length-1];)i.D.pop()},i.Mc=function(e){for(var t=0;t<i.D.length;++t)if(i.D[t]==e)return i.yb(t)},i.ta=function(e){return i.D[e]},i.Xa=["touchend","click"],i.unlock=function(){for(var e=0;e<i.D.length;++e){var t=i.D[e];null!=t&&null!=t.K&&t.state===i.ia.ub&&t.K.resume().then(()=>{tn(t.nb)},e=>{console.error("Failed to resume audiocontext",e)})}i.Xa.map(function(e){document.removeEventListener(e,i.unlock,!0)})},i.Xa.map(function(e){document.addEventListener(e,i.unlock,!0)})}return window.h.Ea+=1,1},545105:()=>{void 0!==window.h&&(window.h.Xa.map(function(e){document.removeEventListener(e,window.h.unlock,!0)}),--window.h.Ea,0===window.h.Ea&&delete window.h)},545409:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia,545513:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch(e){return 0}},545684:(e,t,r,n,a,i)=>{if(void 0===window.h)return-1;var o={},s={};return e==window.h.I.Ca&&0!=r&&(s.sampleRate=r),o.K=new(window.AudioContext||window.webkitAudioContext)(s),o.K.suspend(),o.state=window.h.ia.stopped,r=0,e!=window.h.I.Ca&&(r=t),o.Y=o.K.createScriptProcessor(n,r,t),o.Y.onaudioprocess=function(r){if(null!=o.ua&&0!=o.ua.length||(o.ua=new Float32Array(B.buffer,a,n*t)),e==window.h.I.capture||e==window.h.I.Pa){for(var s=0;s<t;s+=1)for(var l=r.inputBuffer.getChannelData(s),c=o.ua,u=0;u<n;u+=1)c[u*t+s]=l[u];nn(i,n,a)}if(e==window.h.I.Ca||e==window.h.I.Pa)for(an(i,n,a),s=0;s<r.outputBuffer.numberOfChannels;++s)for(l=r.outputBuffer.getChannelData(s),c=o.ua,u=0;u<n;u+=1)l[u]=c[u*t+s];else for(s=0;s<r.outputBuffer.numberOfChannels;++s)r.outputBuffer.getChannelData(s).fill(0)},e!=window.h.I.capture&&e!=window.h.I.Pa||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){o.Fa=o.K.createMediaStreamSource(e),o.Fa.connect(o.Y),o.Y.connect(o.K.destination)}).catch(function(e){console.log("Failed to get user media: "+e)}),e==window.h.I.Ca&&o.Y.connect(o.K.destination),o.nb=i,window.h.lc(o)},548561:e=>window.h.ta(e).K.sampleRate,548634:e=>{void 0!==(e=window.h.ta(e)).Y&&(e.Y.onaudioprocess=function(){},e.Y.disconnect(),e.Y=void 0),void 0!==e.Fa&&(e.Fa.disconnect(),e.Fa=void 0),e.K.close(),e.K=void 0,e.nb=void 0},549034:e=>{window.h.yb(e)},549084:e=>{(e=window.h.ta(e)).K.resume(),e.state=window.h.ia.ub},549223:e=>{(e=window.h.ta(e)).K.suspend(),e.state=window.h.ia.stopped}},Y=e=>{for(;0<e.length;)e.shift()(n)};function X(){var e=P[+Qe>>2];return Qe+=4,e}var q=(e,t)=>{for(var r=0,n=e.length-1;0<=n;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},K=e=>{var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=q(e.split("/").filter(e=>!!e),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},J=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&=t.substr(0,t.length-1),e+t):"."},Z=e=>{if("/"===e)return"/";var t=(e=(e=K(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},Q=e=>(Q=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);M("initRandomDevice")})())(e),ee=(...e)=>{for(var t="",r=!1,n=e.length-1;-1<=n&&!r;n--){if("string"!=typeof(r=0<=n?e[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";t=r+"/"+t,r="/"===r.charAt(0)}return(r?"/":"")+(t=q(t.split("/").filter(e=>!!e),!r).join("/"))||"."},te="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,re=(e,t,r)=>{var n=t+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&te)return te.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var i=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|i);else{var o=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},ne=[],ae=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},ie=(e,t,r,n)=>{if(!(0<n))return 0;var a=r;n=r+n-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),127>=o){if(r>=n)break;t[r++]=o}else{if(2047>=o){if(r+1>=n)break;t[r++]=192|o>>6}else{if(65535>=o){if(r+2>=n)break;t[r++]=224|o>>12}else{if(r+3>=n)break;t[r++]=240|o>>18,t[r++]=128|o>>12&63}t[r++]=128|o>>6&63}t[r++]=128|63&o}}return t[r]=0,r-a};function oe(e,t){var r=Array(ae(e)+1);return e=ie(e,r,0,r.length),t&&(r.length=e),r}var se=[];function le(e,t){se[e]={input:[],H:[],V:t},Le(e,ce)}var ce={open(e){var t=se[e.node.Da];if(!t)throw new _e(43);e.s=t,e.seekable=!1},close(e){e.s.V.sa(e.s)},sa(e){e.s.V.sa(e.s)},read(e,t,r,n){if(!e.s||!e.s.V.hb)throw new _e(60);for(var a=0,i=0;i<n;i++){try{var o=e.s.V.hb(e.s)}catch(e){throw new _e(29)}if(void 0===o&&0===a)throw new _e(6);if(null==o)break;a++,t[r+i]=o}return a&&(e.node.timestamp=Date.now()),a},write(e,t,r,n){if(!e.s||!e.s.V.Sa)throw new _e(60);try{for(var a=0;a<n;a++)e.s.V.Sa(e.s,t[r+a])}catch(e){throw new _e(29)}return n&&(e.node.timestamp=Date.now()),a}},ue={hb(){e:{if(!ne.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt&&null!==(e=window.prompt("Input: "))&&(e+="\n"),!e){e=null;break e}ne=oe(e,!0)}e=ne.shift()}return e},Sa(e,t){null===t||10===t?(p(re(e.H,0)),e.H=[]):0!=t&&e.H.push(t)},sa(e){e.H&&0<e.H.length&&(p(re(e.H,0)),e.H=[])},Vb:()=>({sc:25856,uc:5,rc:191,tc:35387,qc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),Wb:()=>0,Xb:()=>[24,80]},de={Sa(e,t){null===t||10===t?(b(re(e.H,0)),e.H=[]):0!=t&&e.H.push(t)},sa(e){e.H&&0<e.H.length&&(b(re(e.H,0)),e.H=[])}};function fe(e,t){var r=e.l?e.l.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),0!=r&&(t=Math.max(t,256)),r=e.l,e.l=new Uint8Array(t),0<e.v&&e.l.set(r.subarray(0,e.v),0))}var he={N:null,U:()=>he.createNode(null,"/",16895,0),createNode(e,t,r,n){if(24576==(61440&r)||4096==(61440&r))throw new _e(63);return he.N||(he.N={dir:{node:{X:he.j.X,P:he.j.P,la:he.j.la,Aa:he.j.Aa,sb:he.j.sb,xb:he.j.xb,tb:he.j.tb,rb:he.j.rb,Ga:he.j.Ga},stream:{aa:he.m.aa}},file:{node:{X:he.j.X,P:he.j.P},stream:{aa:he.m.aa,read:he.m.read,write:he.m.write,$a:he.m.$a,jb:he.m.jb,lb:he.m.lb}},link:{node:{X:he.j.X,P:he.j.P,ma:he.j.ma},stream:{}},ab:{node:{X:he.j.X,P:he.j.P},stream:je}}),16384==(61440&(r=Ce(e,t,r,n)).mode)?(r.j=he.N.dir.node,r.m=he.N.dir.stream,r.l={}):32768==(61440&r.mode)?(r.j=he.N.file.node,r.m=he.N.file.stream,r.v=0,r.l=null):40960==(61440&r.mode)?(r.j=he.N.link.node,r.m=he.N.link.stream):8192==(61440&r.mode)&&(r.j=he.N.ab.node,r.m=he.N.ab.stream),r.timestamp=Date.now(),e&&(e.l[t]=r,e.timestamp=r.timestamp),r},Ac:e=>e.l?e.l.subarray?e.l.subarray(0,e.v):new Uint8Array(e.l):new Uint8Array(0),j:{X(e){var t={};return t.xc=8192==(61440&e.mode)?e.id:1,t.Cc=e.id,t.mode=e.mode,t.Hc=1,t.uid=0,t.Bc=0,t.Da=e.Da,16384==(61440&e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.v:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.oc=new Date(e.timestamp),t.Gc=new Date(e.timestamp),t.vc=new Date(e.timestamp),t.Fb=4096,t.pc=Math.ceil(t.size/t.Fb),t},P(e,t){if(void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&(t=t.size,e.v!=t))if(0==t)e.l=null,e.v=0;else{var r=e.l;e.l=new Uint8Array(t),r&&e.l.set(r.subarray(0,Math.min(t,e.v))),e.v=t}},la(){throw ye[44]},Aa:(e,t,r,n)=>he.createNode(e,t,r,n),sb(e,t,r){if(16384==(61440&e.mode)){try{var n=Be(t,r)}catch(e){}if(n)for(var a in n.l)throw new _e(55)}delete e.parent.l[e.name],e.parent.timestamp=Date.now(),e.name=r,t.l[r]=e,t.timestamp=e.parent.timestamp},xb(e,t){delete e.l[t],e.timestamp=Date.now()},tb(e,t){var r,n=Be(e,t);for(r in n.l)throw new _e(55);delete e.l[t],e.timestamp=Date.now()},rb(e){var t,r=[".",".."];for(t of Object.keys(e.l))r.push(t);return r},Ga:(e,t,r)=>((e=he.createNode(e,t,41471,0)).link=r,e),ma(e){if(40960!=(61440&e.mode))throw new _e(28);return e.link}},m:{read(e,t,r,n,a){var i=e.node.l;if(a>=e.node.v)return 0;if(8<(e=Math.min(e.node.v-a,n))&&i.subarray)t.set(i.subarray(a,a+e),r);else for(n=0;n<e;n++)t[r+n]=i[a+n];return e},write(e,t,r,n,a,i){if(t.buffer===y.buffer&&(i=!1),!n)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.l||e.l.subarray)){if(i)return e.l=t.subarray(r,r+n),e.v=n;if(0===e.v&&0===a)return e.l=t.slice(r,r+n),e.v=n;if(a+n<=e.v)return e.l.set(t.subarray(r,r+n),a),n}if(fe(e,a+n),e.l.subarray&&t.subarray)e.l.set(t.subarray(r,r+n),a);else for(i=0;i<n;i++)e.l[a+i]=t[r+i];return e.v=Math.max(e.v,a+n),n},aa(e,t,r){if(1===r?t+=e.position:2===r&&32768==(61440&e.node.mode)&&(t+=e.node.v),0>t)throw new _e(28);return t},$a(e,t,r){fe(e.node,t+r),e.node.v=Math.max(e.node.v,t+r)},jb(e,t,r,n,a){if(32768!=(61440&e.node.mode))throw new _e(43);if(e=e.node.l,2&a||e.buffer!==y.buffer){if((0<r||r+t<e.length)&&(e=e.subarray?e.subarray(r,r+t):Array.prototype.slice.call(e,r,r+t)),r=!0,M(),!(t=void 0))throw new _e(48);y.set(e,t)}else r=!1,t=e.byteOffset;return{o:t,nc:r}},lb:(e,t,r,n)=>(he.m.write(e,t,0,n,r,!1),0)}},me=null,ge={},ve=[],we=1,pe=null,be=!0,_e=class{constructor(e){this.name="ErrnoError",this.$=e}},ye={},Ae=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(e){this.h.flags=e}get position(){return this.h.position}set position(e){this.h.position=e}},Ee=class{constructor(e,t,r,n){e||=this,this.parent=e,this.U=e.U,this.Ba=null,this.id=we++,this.name=t,this.mode=r,this.j={},this.m={},this.Da=n}get read(){return!(365&~this.mode)}set read(e){e?this.mode|=365:this.mode&=-366}get write(){return!(146&~this.mode)}set write(e){e?this.mode|=146:this.mode&=-147}};function ke(e,t={}){if(!(e=ee(e)))return{path:"",node:null};if(8<(t=Object.assign({gb:!0,Ua:0},t)).Ua)throw new _e(32);e=e.split("/").filter(e=>!!e);for(var r=me,n="/",a=0;a<e.length;a++){var i=a===e.length-1;if(i&&t.parent)break;if(r=Be(r,e[a]),n=K(n+"/"+e[a]),r.Ba&&(!i||i&&t.gb)&&(r=r.Ba.root),!i||t.fb)for(i=0;40960==(61440&r.mode);)if(r=Ue(n),r=ke(n=ee(J(n),r),{Ua:t.Ua+1}).node,40<i++)throw new _e(32)}return{path:n,node:r}}function Pe(e){for(var t;;){if(e===e.parent)return e=e.U.kb,t?"/"!==e[e.length-1]?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}}function xe(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%pe.length}function Be(e,t){var r=16384==(61440&e.mode)?(r=Se(e,"x"))?r:e.j.la?0:2:54;if(r)throw new _e(r);for(r=pe[xe(e.id,t)];r;r=r.$b){var n=r.name;if(r.parent.id===e.id&&n===t)return r}return e.j.la(e,t)}function Ce(e,t,r,n){return t=xe((e=new Ee(e,t,r,n)).parent.id,e.name),e.$b=pe[t],pe[t]=e}function $e(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function Se(e,t){return be?0:!t.includes("r")||292&e.mode?t.includes("w")&&!(146&e.mode)||t.includes("x")&&!(73&e.mode)?2:0:2}function De(e,t){try{return Be(e,t),20}catch(e){}return Se(e,"wx")}function Fe(e){if(!(e=ve[e]))throw new _e(8);return e}function Re(e,t=-1){if(e=Object.assign(new Ae,e),-1==t)e:{for(t=0;4096>=t;t++)if(!ve[t])break e;throw new _e(33)}return e.W=t,ve[t]=e}var Te,je={open(e){e.m=ge[e.node.Da].m,e.m.open?.(e)},aa(){throw new _e(70)}};function Le(e,t){ge[e]={m:t}}function We(e,t){var r="/"===t;if(r&&me)throw new _e(10);if(!r&&t){var n=ke(t,{gb:!1});if(t=n.path,(n=n.node).Ba)throw new _e(10);if(16384!=(61440&n.mode))throw new _e(54)}t={type:e,Jc:{},kb:t,Yb:[]},(e=e.U(t)).U=t,t.root=e,r?me=e:n&&(n.Ba=t,n.U&&n.U.Yb.push(t))}function Me(e,t,r){var n=ke(e,{parent:!0}).node;if(!(e=Z(e))||"."===e||".."===e)throw new _e(28);var a=De(n,e);if(a)throw new _e(a);if(!n.j.Aa)throw new _e(63);return n.j.Aa(n,e,t,r)}function Ie(e){return Me(e,16895,0)}function Oe(e,t,r){void 0===r&&(r=t,t=438),Me(e,8192|t,r)}function Ge(e,t){if(!ee(e))throw new _e(44);var r=ke(t,{parent:!0}).node;if(!r)throw new _e(44);var n=De(r,t=Z(t));if(n)throw new _e(n);if(!r.j.Ga)throw new _e(63);r.j.Ga(r,t,e)}function Ue(e){if(!(e=ke(e).node))throw new _e(44);if(!e.j.ma)throw new _e(28);return ee(Pe(e.parent),e.j.ma(e))}function Ne(e,t,r){if(""===e)throw new _e(44);if("string"==typeof t){var a={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(void 0===a)throw Error(`Unknown file open mode: ${t}`);t=a}if(r=64&t?4095&(void 0===r?438:r)|32768:0,"object"==typeof e)var i=e;else{e=K(e);try{i=ke(e,{fb:!(131072&t)}).node}catch(e){}}if(a=!1,64&t)if(i){if(128&t)throw new _e(20)}else i=Me(e,r,0),a=!0;if(!i)throw new _e(44);if(8192==(61440&i.mode)&&(t&=-513),65536&t&&16384!=(61440&i.mode))throw new _e(54);if(!a&&(r=i?40960==(61440&i.mode)?32:16384==(61440&i.mode)&&("r"!==$e(t)||512&t)?31:Se(i,$e(t)):44))throw new _e(r);if(512&t&&!a){if(!(r="string"==typeof(r=i)?ke(r,{fb:!0}).node:r).j.P)throw new _e(63);if(16384==(61440&r.mode))throw new _e(31);if(32768!=(61440&r.mode))throw new _e(28);if(a=Se(r,"w"))throw new _e(a);r.j.P(r,{size:0,timestamp:Date.now()})}return t&=-131713,(i=Re({node:i,path:Pe(i),flags:t,seekable:!0,position:0,m:i.m,mc:[],error:!1})).m.open&&i.m.open(i),!n.logReadFiles||1&t||(Ye||={},e in Ye||(Ye[e]=1)),i}function ze(e,t,r){if(null===e.W)throw new _e(8);if(!e.seekable||!e.m.aa)throw new _e(70);if(0!=r&&1!=r&&2!=r)throw new _e(28);e.position=e.m.aa(e,t,r),e.mc=[]}function Ve(e,t,r){e=K("/dev/"+e);var n=((e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r})(!!t,!!r);He||=64;var a=He++<<8;Le(a,{open(e){e.seekable=!1},close(){r?.buffer?.length&&r(10)},read(e,r,n,a){for(var i=0,o=0;o<a;o++){try{var s=t()}catch(e){throw new _e(29)}if(void 0===s&&0===i)throw new _e(6);if(null==s)break;i++,r[n+o]=s}return i&&(e.node.timestamp=Date.now()),i},write(e,t,n,a){for(var i=0;i<a;i++)try{r(t[n+i])}catch(e){throw new _e(29)}return a&&(e.node.timestamp=Date.now()),i}}),Oe(e,n,a)}var He,Ye,Xe,qe,Ke,Je,Ze,Qe=void 0,et=(e,t)=>Object.defineProperty(t,"name",{value:e}),tt=[],rt=[],nt=e=>{if(!e)throw new Xe("Cannot use deleted val. handle = "+e);return rt[e]},at=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const t=tt.pop()||rt.length;return rt[t]=e,rt[t+1]=1,t}},it=e=>{var t=Error,r=et(e,function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},r},ot=e=>{for(var t="";A[e];)t+=Ke[A[e++]];return t},st=[],lt=()=>{for(;st.length;){var e=st.pop();e.g.ha=!1,e.delete()}},ct={},ut=(e,t)=>{if(void 0===t)throw new Xe("ptr should not be undefined");for(;e.B;)t=e.oa(t),e=e.B;return t},dt={},ft=e=>{e=en(e);var t=ot(e);return Zr(e),t},ht=(e,t)=>{var r=dt[e];if(void 0===r)throw e=`${t} has unknown type ${ft(e)}`,new Xe(e);return r},mt=()=>{},gt=!1,vt=(e,t,r)=>t===r?e:void 0===r.B||null===(e=vt(e,t,r.B))?null:r.Ib(e),wt={},pt=(e,t)=>{if(!t.u||!t.o)throw new Ze("makeClassHandle requires ptr and ptrType");if(!!t.J!=!!t.F)throw new Ze("Both smartPtrType and smartPtr must be specified");return t.count={value:1},bt(Object.create(e,{g:{value:t,writable:!0}}))},bt=e=>"undefined"==typeof FinalizationRegistry?(bt=e=>e,e):(gt=new FinalizationRegistry(e=>{--(e=e.g).count.value,0===e.count.value&&(e.F?e.J.O(e.F):e.u.i.O(e.o))}),mt=e=>{gt.unregister(e)},(bt=e=>{var t=e.g;return t.F&&gt.register(e,{g:t},e),e})(e)),_t={},yt=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function At(e){return this.fromWireType(x[e>>2])}var Et={},kt={},Pt=(e,t,r)=>{function n(t){if((t=r(t)).length!==e.length)throw new Ze("Mismatched type converter count");for(var n=0;n<e.length;++n)xt(e[n],t[n])}e.forEach(function(e){kt[e]=t});var a=Array(t.length),i=[],o=0;t.forEach((e,t)=>{dt.hasOwnProperty(e)?a[t]=dt[e]:(i.push(e),Et.hasOwnProperty(e)||(Et[e]=[]),Et[e].push(()=>{a[t]=dt[e],++o===i.length&&n(a)}))}),0===i.length&&n(a)};function xt(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,r={}){var n=t.name;if(!e)throw new Xe(`type "${n}" must have a positive integer typeid pointer`);if(dt.hasOwnProperty(e)){if(r.Sb)return;throw new Xe(`Cannot register type '${n}' twice`)}dt[e]=t,delete kt[e],Et.hasOwnProperty(e)&&(t=Et[e],delete Et[e],t.forEach(e=>e()))}(e,t,r)}var Bt=e=>{throw new Xe(e.g.u.i.name+" instance already deleted")};function Ct(){}var $t=(e,t,r)=>{if(void 0===e[t].A){var n=e[t];e[t]=function(...n){if(!e[t].A.hasOwnProperty(n.length))throw new Xe(`Function '${r}' called with an invalid number of arguments (${n.length}) - expects one of (${e[t].A})!`);return e[t].A[n.length].apply(this,n)},e[t].A=[],e[t].A[n.ga]=n}},St=(e,t,r)=>{if(n.hasOwnProperty(e)){if(void 0===r||void 0!==n[e].A&&void 0!==n[e].A[r])throw new Xe(`Cannot register public name '${e}' twice`);if($t(n,e,e),n.hasOwnProperty(r))throw new Xe(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`);n[e].A[r]=t}else n[e]=t,void 0!==r&&(n[e].Ic=r)};function Dt(e,t,r,n,a,i,o,s){this.name=e,this.constructor=t,this.M=r,this.O=n,this.B=a,this.Nb=i,this.oa=o,this.Ib=s,this.ob=[]}var Ft=(e,t,r)=>{for(;t!==r;){if(!t.oa)throw new Xe(`Expected null or instance of ${r.name}, got an instance of ${t.name}`);e=t.oa(e),t=t.B}return e};function Rt(e,t){if(null===t){if(this.Ra)throw new Xe(`null is not a valid ${this.name}`);return 0}if(!t.g)throw new Xe(`Cannot pass "${er(t)}" as a ${this.name}`);if(!t.g.o)throw new Xe(`Cannot pass deleted object as a pointer of type ${this.name}`);return Ft(t.g.o,t.g.u.i,this.i)}function Tt(e,t){if(null===t){if(this.Ra)throw new Xe(`null is not a valid ${this.name}`);if(this.wa){var r=this.Ta();return null!==e&&e.push(this.O,r),r}return 0}if(!t||!t.g)throw new Xe(`Cannot pass "${er(t)}" as a ${this.name}`);if(!t.g.o)throw new Xe(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.va&&t.g.u.va)throw new Xe(`Cannot convert argument of type ${t.g.J?t.g.J.name:t.g.u.name} to parameter type ${this.name}`);if(r=Ft(t.g.o,t.g.u.i,this.i),this.wa){if(void 0===t.g.F)throw new Xe("Passing raw pointer to smart pointer is illegal");switch(this.fc){case 0:if(t.g.J!==this)throw new Xe(`Cannot convert argument of type ${t.g.J?t.g.J.name:t.g.u.name} to parameter type ${this.name}`);r=t.g.F;break;case 1:r=t.g.F;break;case 2:if(t.g.J===this)r=t.g.F;else{var n=t.clone();r=this.bc(r,at(()=>n.delete())),null!==e&&e.push(this.O,r)}break;default:throw new Xe("Unsupporting sharing policy")}}return r}function jt(e,t){if(null===t){if(this.Ra)throw new Xe(`null is not a valid ${this.name}`);return 0}if(!t.g)throw new Xe(`Cannot pass "${er(t)}" as a ${this.name}`);if(!t.g.o)throw new Xe(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.g.u.va)throw new Xe(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`);return Ft(t.g.o,t.g.u.i,this.i)}function Lt(e,t,r,n,a,i,o,s,l,c,u){this.name=e,this.i=t,this.Ra=r,this.va=n,this.wa=a,this.ac=i,this.fc=o,this.qb=s,this.Ta=l,this.bc=c,this.O=u,a||void 0!==t.B?this.toWireType=Tt:(this.toWireType=n?Rt:jt,this.L=null)}var Wt,Mt,It=(e,t,r)=>{if(!n.hasOwnProperty(e))throw new Ze("Replacing nonexistent public symbol");void 0!==n[e].A&&void 0!==r?n[e].A[r]=t:(n[e]=t,n[e].ga=r)},Ot=[],Gt=e=>{var t=Ot[e];return t||(e>=Ot.length&&(Ot.length=e+1),Ot[e]=t=Wt.get(e)),t},Ut=(e,t)=>{var r=(e=ot(e)).includes("j")?((e,t)=>(...r)=>((e,t,r=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0,n["dynCall_"+e])(t,...r)):t=Gt(t)(...r),t))(e,t,r))(e,t):Gt(t);if("function"!=typeof r)throw new Xe(`unknown function pointer with signature ${e}: ${t}`);return r},Nt=(e,t)=>{var r=[],n={};throw t.forEach(function e(t){n[t]||dt[t]||(kt[t]?kt[t].forEach(e):(r.push(t),n[t]=!0))}),new Mt(`${e}: `+r.map(ft).join([", "]))};function zt(e,t,r,n,a){var i=t.length;if(2>i)throw new Xe("argTypes array size mismatch! Must at least get return value and 'this' types!");var o=null!==t[1]&&null!==r,s=function(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].L)return!0;return!1}(t),l="void"!==t[0].name,c=i-2,u=Array(c),d=[],f=[];return et(e,function(...r){if(r.length!==c)throw new Xe(`function ${e} called with ${r.length} arguments, expected ${c}`);if(f.length=0,d.length=o?2:1,d[0]=a,o){var i=t[1].toWireType(f,this);d[1]=i}for(var h=0;h<c;++h)u[h]=t[h+2].toWireType(f,r[h]),d.push(u[h]);if(r=n(...d),s)yt(f);else for(h=o?1:2;h<t.length;h++){var m=1===h?i:u[h-2];null!==t[h].L&&t[h].L(m)}return l?t[0].fromWireType(r):void 0})}var Vt,Ht,Yt,Xt=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(x[t+4*n>>2]);return r},qt=e=>{const t=(e=e.trim()).indexOf("(");return-1!==t?e.substr(0,t):e},Kt=(e,t,r)=>{if(!(e instanceof Object))throw new Xe(`${r} with invalid "this": ${e}`);if(!(e instanceof t.i.constructor))throw new Xe(`${r} incompatible with "this" of type ${e.constructor.name}`);if(!e.g.o)throw new Xe(`cannot call emscripten binding method ${r} on deleted object`);return Ft(e.g.o,e.g.u.i,t.i)},Jt=e=>{9<e&&0===--rt[e+1]&&(rt[e]=void 0,tt.push(e))},Zt={name:"emscripten::val",fromWireType:e=>{var t=nt(e);return Jt(e),t},toWireType:(e,t)=>at(t),argPackAdvance:8,readValueFromPointer:At,L:null},Qt=(e,t,r)=>{switch(t){case 1:return r?function(e){return this.fromWireType(y[e])}:function(e){return this.fromWireType(A[e])};case 2:return r?function(e){return this.fromWireType(E[e>>1])}:function(e){return this.fromWireType(k[e>>1])};case 4:return r?function(e){return this.fromWireType(P[e>>2])}:function(e){return this.fromWireType(x[e>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},er=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},tr=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(B[e>>2])};case 8:return function(e){return this.fromWireType(C[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},rr=(e,t,r)=>{switch(t){case 1:return r?e=>y[e]:e=>A[e];case 2:return r?e=>E[e>>1]:e=>k[e>>1];case 4:return r?e=>P[e>>2]:e=>x[e>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},nr="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,ar=(e,t)=>{for(var r=e>>1,n=r+t/2;!(r>=n)&&k[r];)++r;if(32<(r<<=1)-e&&nr)return nr.decode(A.subarray(e,r));for(r="",n=0;!(n>=t/2);++n){var a=E[e+2*n>>1];if(0==a)break;r+=String.fromCharCode(a)}return r},ir=(e,t,r)=>{if(r??=2147483647,2>r)return 0;var n=t;r=(r-=2)<2*e.length?r/2:e.length;for(var a=0;a<r;++a)E[t>>1]=e.charCodeAt(a),t+=2;return E[t>>1]=0,t-n},or=e=>2*e.length,sr=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var a=P[e+4*r>>2];if(0==a)break;++r,65536<=a?(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a)):n+=String.fromCharCode(a)}return n},lr=(e,t,r)=>{if(r??=2147483647,4>r)return 0;var n=t;r=n+r-4;for(var a=0;a<e.length;++a){var i=e.charCodeAt(a);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),P[t>>2]=i,(t+=4)+4>r)break}return P[t>>2]=0,t-n},cr=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);55296<=n&&57343>=n&&++r,t+=4}return t},ur=(e,t,r)=>{var n=[];return e=e.toWireType(n,r),n.length&&(x[t>>2]=at(n)),e},dr={},fr=e=>{var t=dr[e];return void 0===t?ot(e):t},hr=[],mr=Reflect.construct,gr=[],vr=e=>{e.yc=e.getExtension("WEBGL_draw_instanced_base_vertex_base_instance")},wr=e=>{e.Fc=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")},pr=e=>{var t="EXT_color_buffer_float EXT_conservative_depth EXT_disjoint_timer_query_webgl2 EXT_texture_norm16 NV_shader_noperspective_interpolation WEBGL_clip_cull_distance EXT_color_buffer_half_float EXT_depth_clamp EXT_float_blend EXT_texture_compression_bptc EXT_texture_compression_rgtc EXT_texture_filter_anisotropic KHR_parallel_shader_compile OES_texture_float_linear WEBGL_blend_func_extended WEBGL_compressed_texture_astc WEBGL_compressed_texture_etc WEBGL_compressed_texture_etc1 WEBGL_compressed_texture_s3tc WEBGL_compressed_texture_s3tc_srgb WEBGL_debug_renderer_info WEBGL_debug_shaders WEBGL_lose_context WEBGL_multi_draw".split(" ");return(e.getSupportedExtensions()||[]).filter(e=>t.includes(e))},br=1,_r=[],yr=[],Ar=[],Er=[],kr=[],Pr=[],xr=[],Br=[],Cr={},$r=4,Sr=0,Dr=e=>{for(var t=br++,r=e.length;r<t;r++)e[r]=null;return t},Fr=(e,t,r,n)=>{for(var a=0;a<e;a++){var i=Xr[r](),o=i&&Dr(n);i?(i.name=o,n[o]=i):Vt||=1282,P[t+4*a>>2]=o}},Rr=(e,t)=>{var r=Dr(Br),n={handle:r,attributes:t,version:t.Ec,C:e};return e.canvas&&(e.canvas.zb=n),Br[r]=n,(void 0===t.Jb||t.Jb)&&jr(n),r},Tr=e=>(Ht=Br[e],n.wc=Xr=Ht?.C,!(e&&!Xr)),jr=e=>{if(e||=Ht,!e.Tb){e.Tb=!0;var t=e.C;vr(t),wr(t),2<=e.version&&(t.cb=t.getExtension("EXT_disjoint_timer_query_webgl2")),(2>e.version||!t.cb)&&(t.cb=t.getExtension("EXT_disjoint_timer_query")),t.Zb=t.getExtension("WEBGL_multi_draw"),pr(t).forEach(e=>{e.includes("lose_context")||e.includes("debug")||t.getExtension(e)})}},Lr={},Wr=()=>{if(!Yt){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in Lr)void 0===Lr[e]?delete t[e]:t[e]=Lr[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Yt=r}return Yt},Mr=[];function Ir(){var e=pr(Xr);return e.concat(e.map(e=>"GL_"+e))}var Or=e=>{var t=ae(e)+1,r=Qr(t);return r&&ie(e,A,r,t),r},Gr=e=>"]"==e.slice(-1)&&e.lastIndexOf("["),Ur=e=>0==(e-=5120)?y:1==e?A:2==e?E:4==e?P:6==e?B:5==e||28922==e||28520==e||30779==e||30782==e?x:k,Nr=e=>0==e%4&&(0!=e%100||0==e%400),zr=[31,29,31,30,31,30,31,31,30,31,30,31],Vr=[31,28,31,30,31,30,31,31,30,31,30,31];[44].forEach(e=>{ye[e]=new _e(e),ye[e].stack="<generic error, no stack>"}),pe=Array(4096),We(he,"/"),Ie("/tmp"),Ie("/home"),Ie("/home/web_user"),function(){Ie("/dev"),Le(259,{read:()=>0,write:(e,t,r,n)=>n}),Oe("/dev/null",259),le(1280,ue),le(1536,de),Oe("/dev/tty",1280),Oe("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(0===t&&(t=Q(e).byteLength),e[--t]);Ve("random",r),Ve("urandom",r),Ie("/dev/shm"),Ie("/dev/shm/tmp")}(),function(){Ie("/proc");var e=Ie("/proc/self");Ie("/proc/self/fd"),We({U(){var t=Ce(e,"fd",16895,73);return t.j={la(e,t){var r=Fe(+t);return(e={parent:null,U:{kb:"fake"},j:{ma:()=>r.path}}).parent=e}},t}},"/proc/self/fd")}(),Xe=n.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},rt.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=()=>rt.length/2-5-tt.length,qe=n.PureVirtualError=it("PureVirtualError");for(var Hr=Array(256),Yr=0;256>Yr;++Yr)Hr[Yr]=String.fromCharCode(Yr);Ke=Hr,n.getInheritedInstanceCount=()=>Object.keys(ct).length,n.getLiveInheritedInstances=()=>{var e,t=[];for(e in ct)ct.hasOwnProperty(e)&&t.push(ct[e]);return t},n.flushPendingDeletes=lt,n.setDelayFunction=e=>{Je=e,st.length&&Je&&Je(lt)},Ze=n.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Ct.prototype,{isAliasOf:function(e){if(!(this instanceof Ct&&e instanceof Ct))return!1;var t=this.g.u.i,r=this.g.o;e.g=e.g;var n=e.g.u.i;for(e=e.g.o;t.B;)r=t.oa(r),t=t.B;for(;n.B;)e=n.oa(e),n=n.B;return t===n&&r===e},clone:function(){if(this.g.o||Bt(this),this.g.ja)return this.g.count.value+=1,this;var e=bt,t=Object,r=t.create,n=Object.getPrototypeOf(this),a=this.g;return(e=e(r.call(t,n,{g:{value:{count:a.count,ha:a.ha,ja:a.ja,o:a.o,u:a.u,F:a.F,J:a.J}}}))).g.count.value+=1,e.g.ha=!1,e},delete(){if(this.g.o||Bt(this),this.g.ha&&!this.g.ja)throw new Xe("Object already scheduled for deletion");mt(this);var e=this.g;--e.count.value,0===e.count.value&&(e.F?e.J.O(e.F):e.u.i.O(e.o)),this.g.ja||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||Bt(this),this.g.ha&&!this.g.ja)throw new Xe("Object already scheduled for deletion");return st.push(this),1===st.length&&Je&&Je(lt),this.g.ha=!0,this}}),Object.assign(Lt.prototype,{Ob(e){return this.qb&&(e=this.qb(e)),e},bb(e){this.O?.(e)},argPackAdvance:8,readValueFromPointer:At,fromWireType:function(e){function t(){return this.wa?pt(this.i.M,{u:this.ac,o:r,J:this,F:e}):pt(this.i.M,{u:this,o:e})}var r=this.Ob(e);if(!r)return this.bb(e),null;var n=((e,t)=>(t=ut(e,t),ct[t]))(this.i,r);if(void 0!==n)return 0===n.g.count.value?(n.g.o=r,n.g.F=e,n.clone()):(n=n.clone(),this.bb(e),n);if(n=this.i.Nb(r),!(n=wt[n]))return t.call(this);n=this.va?n.Gb:n.pointerType;var a=vt(r,this.i,n.i);return null===a?t.call(this):this.wa?pt(n.i.M,{u:n,o:a,J:this,F:e}):pt(n.i.M,{u:n,o:a})}}),Mt=n.UnboundTypeError=it("UnboundTypeError");for(var Xr,qr=0;32>qr;++qr)Mr.push(Array(qr));var Kr={__syscall_fcntl64:function(e,t,r){Qe=r;try{var n=Fe(e);switch(t){case 0:var a=X();if(0>a)break;for(;ve[a];)a++;return function(e,t=-1){return e=Re(e,t),e.m?.zc?.(e),e}(n,a).W;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:return a=X(),n.flags|=a,0;case 12:return a=X(),E[a+0>>1]=2,0}return-28}catch(e){if("ErrnoError"!==e.name)throw e;return-e.$}},__syscall_ioctl:function(e,t,r){Qe=r;try{var n=Fe(e);switch(t){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return n.s?0:-59;case 21505:if(!n.s)return-59;if(n.s.V.Vb){e=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var a=X();P[a>>2]=25856,P[a+4>>2]=5,P[a+8>>2]=191,P[a+12>>2]=35387;for(var i=0;32>i;i++)y[a+i+17]=e[i]||0}return 0;case 21506:case 21507:case 21508:if(!n.s)return-59;if(n.s.V.Wb)for(a=X(),e=[],i=0;32>i;i++)e.push(y[a+i+17]);return 0;case 21519:return n.s?(a=X(),P[a>>2]=0):-59;case 21520:return n.s?-28:-59;case 21531:if(a=X(),!n.m.Ub)throw new _e(59);return n.m.Ub(n,t,a);case 21523:return n.s?(n.s.V.Xb&&(i=[24,80],a=X(),E[a>>1]=i[0],E[a+2>>1]=i[1]),0):-59;default:return-28}}catch(e){if("ErrnoError"!==e.name)throw e;return-e.$}},__syscall_openat:function(e,t,r,n){Qe=n;try{var a=t=t?re(A,t):"";if("/"===a.charAt(0))t=a;else{var i=-100===e?"/":Fe(e).path;if(0==a.length)throw new _e(44);t=K(i+"/"+a)}return Ne(t,r,n?X():0).W}catch(e){if("ErrnoError"!==e.name)throw e;return-e.$}},_abort_js:()=>{M("")},_embind_create_inheriting_constructor:(e,t,r)=>{e=ot(e),t=ht(t,"wrapper"),r=nt(r);var n=t.i,a=n.M,i=n.B.M,o=n.B.constructor;return e=et(e,function(...e){n.B.ob.forEach(function(e){if(this[e]===i[e])throw new qe(`Pure virtual function ${e} must be implemented in JavaScript`)}.bind(this)),Object.defineProperty(this,"__parent",{value:a}),this.__construct(...e)}),a.__construct=function(...e){if(this===a)throw new Xe("Pass correct 'this' to __construct");e=o.implement(this,...e),mt(e);var t=e.g;if(e.notifyOnDestruction(),t.ja=!0,Object.defineProperties(this,{g:{value:t}}),bt(this),e=t.o,e=ut(n,e),ct.hasOwnProperty(e))throw new Xe(`Tried to register registered instance: ${e}`);ct[e]=this},a.__destruct=function(){if(this===a)throw new Xe("Pass correct 'this' to __destruct");mt(this);var e=this.g.o;if(e=ut(n,e),!ct.hasOwnProperty(e))throw new Xe(`Tried to unregister unregistered instance: ${e}`);delete ct[e]},e.prototype=Object.create(a),Object.assign(e.prototype,r),at(e)},_embind_finalize_value_object:e=>{var t=_t[e];delete _t[e];var r=t.Ta,n=t.O,a=t.eb,i=a.map(e=>e.Rb).concat(a.map(e=>e.dc));Pt([e],i,e=>{var i={};return a.forEach((t,r)=>{var n=e[r],o=t.Pb,s=t.Qb,l=e[r+a.length],c=t.cc,u=t.ec;i[t.Lb]={read:e=>n.fromWireType(o(s,e)),write:(e,t)=>{var r=[];c(u,e,l.toWireType(r,t)),yt(r)}}}),[{name:t.name,fromWireType:e=>{var t,r={};for(t in i)r[t]=i[t].read(e);return n(e),r},toWireType:(e,t)=>{for(var a in i)if(!(a in t))throw new TypeError(`Missing field: "${a}"`);var o=r();for(a in i)i[a].write(o,t[a]);return null!==e&&e.push(n,o),o},argPackAdvance:8,readValueFromPointer:At,L:n}]})},_embind_register_bigint:()=>{},_embind_register_bool:(e,t,r,n)=>{xt(e,{name:t=ot(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:8,readValueFromPointer:function(e){return this.fromWireType(A[e])},L:null})},_embind_register_class:(e,t,r,n,a,i,o,s,l,c,u,d,f)=>{u=ot(u),i=Ut(a,i),s&&=Ut(o,s),c&&=Ut(l,c),f=Ut(d,f);var h=(e=>{if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e})(u);St(h,function(){Nt(`Cannot construct ${u} due to unbound types`,[n])}),Pt([e,t,r],n?[n]:[],t=>{if(t=t[0],n)var r=t.i,a=r.M;else a=Ct.prototype;t=et(u,function(...e){if(Object.getPrototypeOf(this)!==o)throw new Xe("Use 'new' to construct "+u);if(void 0===d.Z)throw new Xe(u+" has no accessible constructor");var t=d.Z[e.length];if(void 0===t)throw new Xe(`Tried to invoke ctor of ${u} with invalid number of parameters (${e.length}) - expected (${Object.keys(d.Z).toString()}) parameters instead!`);return t.apply(this,e)});var o=Object.create(a,{constructor:{value:t}});t.prototype=o;var l,d=new Dt(u,t,o,f,r,i,s,c);return d.B&&((l=d.B).pa??(l.pa=[]),d.B.pa.push(d)),r=new Lt(u,d,!0,!1,!1),l=new Lt(u+"*",d,!1,!1,!1),a=new Lt(u+" const*",d,!1,!0,!1),wt[e]={pointerType:l,Gb:a},It(h,t),[r,l,a]})},_embind_register_class_class_function:(e,t,r,n,a,i,o)=>{var s=Xt(r,n);t=ot(t),t=qt(t),i=Ut(a,i),Pt([],[e],e=>{function n(){Nt(`Cannot call ${a} due to unbound types`,s)}var a=`${(e=e[0]).name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var l=e.i.constructor;return void 0===l[t]?(n.ga=r-1,l[t]=n):($t(l,t,a),l[t].A[r-1]=n),Pt([],s,n=>{if(n=zt(a,[n[0],null].concat(n.slice(1)),null,i,o),void 0===l[t].A?(n.ga=r-1,l[t]=n):l[t].A[r-1]=n,e.i.pa)for(const r of e.i.pa)r.constructor.hasOwnProperty(t)||(r.constructor[t]=n);return[]}),[]})},_embind_register_class_class_property:(e,t,r,n,a,i,o,s)=>{t=ot(t),i=Ut(a,i),Pt([],[e],e=>{var a=`${(e=e[0]).name}.${t}`,l={get(){Nt(`Cannot access ${a} due to unbound types`,[r])},enumerable:!0,configurable:!0};return l.set=s?()=>{Nt(`Cannot access ${a} due to unbound types`,[r])}:()=>{throw new Xe(`${a} is a read-only property`)},Object.defineProperty(e.i.constructor,t,l),Pt([],[r],r=>{r=r[0];var a={get:()=>r.fromWireType(i(n)),enumerable:!0};return s&&(s=Ut(o,s),a.set=e=>{var t=[];s(n,r.toWireType(t,e)),yt(t)}),Object.defineProperty(e.i.constructor,t,a),[]}),[]})},_embind_register_class_constructor:(e,t,r,n,a,i)=>{var o=Xt(t,r);a=Ut(n,a),Pt([],[e],e=>{var r=`constructor ${(e=e[0]).name}`;if(void 0===e.i.Z&&(e.i.Z=[]),void 0!==e.i.Z[t-1])throw new Xe(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.i.Z[t-1]=()=>{Nt(`Cannot construct ${e.name} due to unbound types`,o)},Pt([],o,n=>(n.splice(1,0,null),e.i.Z[t-1]=zt(r,n,null,a,i),[])),[]})},_embind_register_class_function:(e,t,r,n,a,i,o,s)=>{var l=Xt(r,n);t=ot(t),t=qt(t),i=Ut(a,i),Pt([],[e],e=>{function n(){Nt(`Cannot call ${a} due to unbound types`,l)}var a=`${(e=e[0]).name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.i.ob.push(t);var c=e.i.M,u=c[t];return void 0===u||void 0===u.A&&u.className!==e.name&&u.ga===r-2?(n.ga=r-2,n.className=e.name,c[t]=n):($t(c,t,a),c[t].A[r-2]=n),Pt([],l,n=>(n=zt(a,n,e,i,o),void 0===c[t].A?(n.ga=r-2,c[t]=n):c[t].A[r-2]=n,[])),[]})},_embind_register_class_property:(e,t,r,n,a,i,o,s,l,c)=>{t=ot(t),a=Ut(n,a),Pt([],[e],e=>{var n=`${(e=e[0]).name}.${t}`,u={get(){Nt(`Cannot access ${n} due to unbound types`,[r,o])},enumerable:!0,configurable:!0};return u.set=l?()=>Nt(`Cannot access ${n} due to unbound types`,[r,o]):()=>{throw new Xe(n+" is a read-only property")},Object.defineProperty(e.i.M,t,u),Pt([],l?[r,o]:[r],r=>{var o=r[0],u={get(){var t=Kt(this,e,n+" getter");return o.fromWireType(a(i,t))},enumerable:!0};if(l){l=Ut(s,l);var d=r[1];u.set=function(t){var r=Kt(this,e,n+" setter"),a=[];l(c,r,d.toWireType(a,t)),yt(a)}}return Object.defineProperty(e.i.M,t,u),[]}),[]})},_embind_register_emval:e=>xt(e,Zt),_embind_register_enum:(e,t,r,n)=>{function a(){}t=ot(t),a.values={},xt(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,argPackAdvance:8,readValueFromPointer:Qt(t,r,n),L:null}),St(t,a)},_embind_register_enum_value:(e,t,r)=>{var n=ht(e,"enum");t=ot(t),e=n.constructor,n=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:et(`${n.name}_${t}`,function(){})}}),e.values[r]=n,e[t]=n},_embind_register_float:(e,t,r)=>{xt(e,{name:t=ot(t),fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:8,readValueFromPointer:tr(t,r),L:null})},_embind_register_function:(e,t,r,n,a,i)=>{var o=Xt(t,r);e=ot(e),e=qt(e),a=Ut(n,a),St(e,function(){Nt(`Cannot call ${e} due to unbound types`,o)},t-1),Pt([],o,r=>(It(e,zt(e,[r[0],null].concat(r.slice(1)),null,a,i),t-1),[]))},_embind_register_integer:(e,t,r,n,a)=>{if(t=ot(t),-1===a&&(a=4294967295),a=e=>e,0===n){var i=32-8*r;a=e=>e<<i>>>i}var o=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t};xt(e,{name:t,fromWireType:a,toWireType:o,argPackAdvance:8,readValueFromPointer:rr(t,r,0!==n),L:null})},_embind_register_memory_view:(e,t,r)=>{function n(e){return new a(y.buffer,x[e+4>>2],x[e>>2])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];xt(e,{name:r=ot(r),fromWireType:n,argPackAdvance:8,readValueFromPointer:n},{Sb:!0})},_embind_register_std_string:(e,t)=>{var r="std::string"===(t=ot(t));xt(e,{name:t,fromWireType:function(e){var t=x[e>>2],n=e+4;if(r)for(var a=n,i=0;i<=t;++i){var o=n+i;if(i==t||0==A[o]){if(a=a?re(A,a,o-a):"",void 0===s)var s=a;else s+=String.fromCharCode(0),s+=a;a=o+1}}else{for(s=Array(t),i=0;i<t;++i)s[i]=String.fromCharCode(A[n+i]);s=s.join("")}return Zr(e),s},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;if(!(n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array))throw new Xe("Cannot pass non-string to std::string");var a=r&&n?ae(t):t.length,i=Qr(4+a+1),o=i+4;if(x[i>>2]=a,r&&n)ie(t,A,o,a+1);else if(n)for(n=0;n<a;++n){var s=t.charCodeAt(n);if(255<s)throw Zr(o),new Xe("String has UTF-16 code units that do not fit in 8 bits");A[o+n]=s}else for(n=0;n<a;++n)A[o+n]=t[n];return null!==e&&e.push(Zr,i),i},argPackAdvance:8,readValueFromPointer:At,L(e){Zr(e)}})},_embind_register_std_wstring:(e,t,r)=>{if(r=ot(r),2===t)var n=ar,a=ir,i=or,o=e=>k[e>>1];else 4===t&&(n=sr,a=lr,i=cr,o=e=>x[e>>2]);xt(e,{name:r,fromWireType:e=>{for(var r,a=x[e>>2],i=e+4,s=0;s<=a;++s){var l=e+4+s*t;s!=a&&0!=o(l)||(i=n(i,l-i),void 0===r?r=i:(r+=String.fromCharCode(0),r+=i),i=l+t)}return Zr(e),r},toWireType:(e,n)=>{if("string"!=typeof n)throw new Xe(`Cannot pass non-string to C++ string type ${r}`);var o=i(n),s=Qr(4+o+t);return x[s>>2]=o/t,a(n,s+4,o+t),null!==e&&e.push(Zr,s),s},argPackAdvance:8,readValueFromPointer:At,L(e){Zr(e)}})},_embind_register_value_object:(e,t,r,n,a,i)=>{_t[e]={name:ot(t),Ta:Ut(r,n),O:Ut(a,i),eb:[]}},_embind_register_value_object_field:(e,t,r,n,a,i,o,s,l,c)=>{_t[e].eb.push({Lb:ot(t),Rb:r,Pb:Ut(n,a),Qb:i,dc:o,cc:Ut(s,l),ec:c})},_embind_register_void:(e,t)=>{xt(e,{Dc:!0,name:t=ot(t),argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(e,t,r)=>A.copyWithin(e,t,t+r),_emval_as:(e,t,r)=>(e=nt(e),t=ht(t,"emval::as"),ur(t,r,e)),_emval_call_method:(e,t,r,n,a)=>(e=hr[e])(t=nt(t),t[r=fr(r)],n,a),_emval_decref:Jt,_emval_get_method_caller:(e,t,r)=>{var n=((e,t)=>{for(var r=Array(e),n=0;n<e;++n)r[n]=ht(x[t+4*n>>2],"parameter "+n);return r})(e,t),a=n.shift();e--;var i=Array(e);return t=`methodCaller<(${n.map(e=>e.name).join(", ")}) => ${a.name}>`,(e=>{var t=hr.length;return hr.push(e),t})(et(t,(t,o,s,l)=>{for(var c=0,u=0;u<e;++u)i[u]=n[u].readValueFromPointer(l+c),c+=n[u].argPackAdvance;return t=1===r?mr(o,i):o.apply(t,i),ur(a,s,t)}))},_emval_get_property:(e,t)=>(e=nt(e),t=nt(t),at(e[t])),_emval_incref:e=>{9<e&&(rt[e+1]+=1)},_emval_new_array:()=>at([]),_emval_new_cstring:e=>at(fr(e)),_emval_new_object:()=>at({}),_emval_run_destructors:e=>{var t=nt(e);yt(t),Jt(e)},_emval_set_property:(e,t,r)=>{e=nt(e),t=nt(t),r=nt(r),e[t]=r},_emval_take_value:(e,t)=>(e=(e=ht(e,"_emval_take_value")).readValueFromPointer(t),at(e)),beginPixelLocalStorageWEBGL:function(e,t,r){(e=Br[e].C.ba)&&e.beginPixelLocalStorageWEBGL(n.HEAPU32.subarray(r,r+t))},decode_image:function(e,t,r){var a=n.images;a||(a=new Map,n.images=a);var i=new Image;a.set(e,i),t=n.HEAP8.subarray(t,t+r),(r=new Uint8Array(r)).set(t),i.src=URL.createObjectURL(new Blob([r],{type:"image/png"})),i.onload=function(){n._setWebImage(e,i.width,i.height)}},delete_image:function(e){var t=n.images;t&&t.get(e)&&t.delete(e)},emscripten_asm_const_int:(e,t,r)=>{gr.length=0;for(var n;n=A[t++];){var a=105!=n;r+=(a&=112!=n)&&r%8?4:0,gr.push(112==n?x[r>>2]:105==n?P[r>>2]:C[r>>3]),r+=a?8:4}return H[e](...gr)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:e=>{var t=A.length;if(2147483648<(e>>>=0))return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=(a.min.call(a,2147483648,n+(65536-n%65536)%65536)-_.buffer.byteLength+65535)/65536;try{_.grow(a),S();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},emscripten_webgl_enable_extension:(e,t)=>(e=Br[e],(t=t?re(A,t):"").startsWith("GL_")&&(t=t.substr(3)),"WEBGL_draw_instanced_base_vertex_base_instance"==t&&vr(Xr),"WEBGL_multi_draw_instanced_base_vertex_base_instance"==t&&wr(Xr),"WEBGL_multi_draw"==t&&(Xr.Zb=Xr.getExtension("WEBGL_multi_draw")),!!e.C.getExtension(t)),emscripten_webgl_get_current_context:()=>Ht?Ht.handle:0,emscripten_webgl_make_context_current:e=>Tr(e)?0:-5,enable_WEBGL_provoking_vertex:function(e){return(e=Br[e].C).pb=e.getExtension("WEBGL_provoking_vertex"),!!e.pb},enable_WEBGL_shader_pixel_local_storage_coherent:function(e){return(e=Br[e].C).ba=e.getExtension("WEBGL_shader_pixel_local_storage"),!(!e.ba||!e.ba.isCoherent())},endPixelLocalStorageWEBGL:function(e,t,r){(e=Br[e].C.ba)&&e.endPixelLocalStorageWEBGL(n.HEAPU32.subarray(r,r+t))},environ_get:(e,t)=>{var r=0;return Wr().forEach((n,a)=>{var i=t+r;for(a=x[e+4*a>>2]=i,i=0;i<n.length;++i)y[a++]=n.charCodeAt(i);y[a]=0,r+=n.length+1}),0},environ_sizes_get:(e,t)=>{var r=Wr();x[e>>2]=r.length;var n=0;return r.forEach(e=>n+=e.length+1),x[t>>2]=n,0},fd_close:function(e){try{var t=Fe(e);if(null===t.W)throw new _e(8);t.Qa&&(t.Qa=null);try{t.m.close&&t.m.close(t)}catch(e){throw e}finally{ve[t.W]=null}return t.W=null,0}catch(e){if("ErrnoError"!==e.name)throw e;return e.$}},fd_read:function(e,t,r,n){try{e:{var a=Fe(e);e=t;for(var i,o=t=0;o<r;o++){var s=x[e>>2],l=x[e+4>>2];e+=8;var c=a,u=i,d=y;if(0>l||0>u)throw new _e(28);if(null===c.W)throw new _e(8);if(1==(2097155&c.flags))throw new _e(8);if(16384==(61440&c.node.mode))throw new _e(31);if(!c.m.read)throw new _e(28);var f=void 0!==u;if(f){if(!c.seekable)throw new _e(70)}else u=c.position;var h=c.m.read(c,d,s,l,u);f||(c.position+=h);var m=h;if(0>m){var g=-1;break e}if(t+=m,m<l)break;void 0!==i&&(i+=m)}g=t}return x[n>>2]=g,0}catch(e){if("ErrnoError"!==e.name)throw e;return e.$}},fd_seek:function(e,t,r,n,a){t=r+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*r:NaN;try{if(isNaN(t))return 61;var i=Fe(e);return ze(i,t,n),V=[i.position>>>0,(z=i.position,1<=+Math.abs(z)?0<z?+Math.floor(z/4294967296)>>>0:~~+Math.ceil((z-+(~~z>>>0))/4294967296)>>>0:0)],P[a>>2]=V[0],P[a+4>>2]=V[1],i.Qa&&0===t&&0===n&&(i.Qa=null),0}catch(e){if("ErrnoError"!==e.name)throw e;return e.$}},fd_write:function(e,t,r,n){try{e:{var a=Fe(e);e=t;for(var i,o=t=0;o<r;o++){var s=x[e>>2],l=x[e+4>>2];e+=8;var c=a,u=s,d=l,f=i,h=y;if(0>d||0>f)throw new _e(28);if(null===c.W)throw new _e(8);if(!(2097155&c.flags))throw new _e(8);if(16384==(61440&c.node.mode))throw new _e(31);if(!c.m.write)throw new _e(28);c.seekable&&1024&c.flags&&ze(c,0,2);var m=void 0!==f;if(m){if(!c.seekable)throw new _e(70)}else f=c.position;var g=c.m.write(c,h,u,d,f,void 0);m||(c.position+=g);var v=g;if(0>v){var w=-1;break e}t+=v,void 0!==i&&(i+=v)}w=t}return x[n>>2]=w,0}catch(e){if("ErrnoError"!==e.name)throw e;return e.$}},framebufferPixelLocalClearValuefvWEBGL:function(e,t,r,n,a,i){(e=Br[e].C.ba)&&e.framebufferPixelLocalClearValuefvWEBGL(t,[r,n,a,i])},framebufferTexturePixelLocalStorageWEBGL:function(e,t,r,n,a){(e=Br[e].C.ba)&&e.framebufferTexturePixelLocalStorageWEBGL(t,kr[r],n,a)},getFramebufferPixelLocalStorageParameterivWEBGL:function(e,t,r){return(e=Br[e].C.ba)?e.getFramebufferPixelLocalStorageParameterWEBGL(t,r):0},glActiveTexture:e=>Xr.activeTexture(e),glAttachShader:(e,t)=>{Xr.attachShader(yr[e],Pr[t])},glBindBuffer:(e,t)=>{35051==e?Xr.Na=t:35052==e&&(Xr.Oa=t),Xr.bindBuffer(e,_r[t])},glBindBufferRange:(e,t,r,n,a)=>{Xr.bindBufferRange(e,t,_r[r],n,a)},glBindFramebuffer:(e,t)=>{Xr.bindFramebuffer(e,Ar[t])},glBindRenderbuffer:(e,t)=>{Xr.bindRenderbuffer(e,Er[t])},glBindTexture:(e,t)=>{Xr.bindTexture(e,kr[t])},glBindVertexArray:e=>{Xr.bindVertexArray(xr[e])},glBlendEquation:e=>Xr.blendEquation(e),glBlendFunc:(e,t)=>Xr.blendFunc(e,t),glBlitFramebuffer:(e,t,r,n,a,i,o,s,l,c)=>Xr.blitFramebuffer(e,t,r,n,a,i,o,s,l,c),glBufferData:(e,t,r,n)=>{r&&t?Xr.bufferData(e,A,n,r,t):Xr.bufferData(e,t,n)},glBufferSubData:(e,t,r,n)=>{r&&Xr.bufferSubData(e,t,A,n,r)},glClear:e=>Xr.clear(e),glClearBufferfv:(e,t,r)=>{Xr.clearBufferfv(e,t,B,r>>2)},glClearBufferuiv:(e,t,r)=>{Xr.clearBufferuiv(e,t,x,r>>2)},glClearColor:(e,t,r,n)=>Xr.clearColor(e,t,r,n),glClearDepthf:e=>Xr.clearDepth(e),glClearStencil:e=>Xr.clearStencil(e),glColorMask:(e,t,r,n)=>{Xr.colorMask(!!e,!!t,!!r,!!n)},glCompileShader:e=>{Xr.compileShader(Pr[e])},glCreateProgram:()=>{var e=Dr(yr),t=Xr.createProgram();return t.name=e,t.za=t.xa=t.ya=0,t.Wa=1,yr[e]=t,e},glCreateShader:e=>{var t=Dr(Pr);return Pr[t]=Xr.createShader(e),t},glCullFace:e=>Xr.cullFace(e),glDeleteBuffers:(e,t)=>{for(var r=0;r<e;r++){var n=P[t+4*r>>2],a=_r[n];a&&(Xr.deleteBuffer(a),a.name=0,_r[n]=null,n==Xr.Na&&(Xr.Na=0),n==Xr.Oa&&(Xr.Oa=0))}},glDeleteFramebuffers:(e,t)=>{for(var r=0;r<e;++r){var n=P[t+4*r>>2],a=Ar[n];a&&(Xr.deleteFramebuffer(a),a.name=0,Ar[n]=null)}},glDeleteProgram:e=>{if(e){var t=yr[e];t?(Xr.deleteProgram(t),t.name=0,yr[e]=null):Vt||=1281}},glDeleteRenderbuffers:(e,t)=>{for(var r=0;r<e;r++){var n=P[t+4*r>>2],a=Er[n];a&&(Xr.deleteRenderbuffer(a),a.name=0,Er[n]=null)}},glDeleteShader:e=>{if(e){var t=Pr[e];t?(Xr.deleteShader(t),Pr[e]=null):Vt||=1281}},glDeleteTextures:(e,t)=>{for(var r=0;r<e;r++){var n=P[t+4*r>>2],a=kr[n];a&&(Xr.deleteTexture(a),a.name=0,kr[n]=null)}},glDeleteVertexArrays:(e,t)=>{for(var r=0;r<e;r++){var n=P[t+4*r>>2];Xr.deleteVertexArray(xr[n]),xr[n]=null}},glDepthFunc:e=>Xr.depthFunc(e),glDepthMask:e=>{Xr.depthMask(!!e)},glDepthRangef:(e,t)=>Xr.depthRange(e,t),glDisable:e=>Xr.disable(e),glDrawArrays:(e,t,r)=>{Xr.drawArrays(e,t,r)},glDrawArraysInstanced:(e,t,r,n)=>{Xr.drawArraysInstanced(e,t,r,n)},glDrawBuffers:(e,t)=>{for(var r=Mr[e],n=0;n<e;n++)r[n]=P[t+4*n>>2];Xr.drawBuffers(r)},glDrawElements:(e,t,r,n)=>{Xr.drawElements(e,t,r,n)},glDrawElementsInstanced:(e,t,r,n,a)=>{Xr.drawElementsInstanced(e,t,r,n,a)},glEnable:e=>Xr.enable(e),glEnableVertexAttribArray:e=>{Xr.enableVertexAttribArray(e)},glFlush:()=>Xr.flush(),glFramebufferRenderbuffer:(e,t,r,n)=>{Xr.framebufferRenderbuffer(e,t,r,Er[n])},glFramebufferTexture2D:(e,t,r,n,a)=>{Xr.framebufferTexture2D(e,t,r,kr[n],a)},glFrontFace:e=>Xr.frontFace(e),glGenBuffers:(e,t)=>{Fr(e,t,"createBuffer",_r)},glGenFramebuffers:(e,t)=>{Fr(e,t,"createFramebuffer",Ar)},glGenRenderbuffers:(e,t)=>{Fr(e,t,"createRenderbuffer",Er)},glGenTextures:(e,t)=>{Fr(e,t,"createTexture",kr)},glGenVertexArrays:(e,t)=>{Fr(e,t,"createVertexArray",xr)},glGenerateMipmap:e=>Xr.generateMipmap(e),glGetError:()=>{var e=Xr.getError()||Vt;return Vt=0,e},glGetIntegerv:(e,t)=>((e,t)=>{if(t){var r=void 0;switch(e){case 36346:r=1;break;case 36344:return;case 34814:case 36345:r=0;break;case 34466:var n=Xr.getParameter(34467);r=n?n.length:0;break;case 33309:if(2>Ht.version)return void(Vt||=1282);r=Ir().length;break;case 33307:case 33308:if(2>Ht.version)return void(Vt||=1280);r=33307==e?3:0}if(void 0===r)switch(typeof(n=Xr.getParameter(e))){case"number":r=n;break;case"boolean":r=n?1:0;break;case"string":return void(Vt||=1280);case"object":if(null===n)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:r=0;break;default:return void(Vt||=1280)}else{if(n instanceof Float32Array||n instanceof Uint32Array||n instanceof Int32Array||n instanceof Array){for(e=0;e<n.length;++e)P[t+4*e>>2]=n[e];return}try{r=0|n.name}catch(t){return Vt||=1280,void b(`GL_INVALID_ENUM in glGet0v: Unknown object returned from WebGL getParameter(${e})! (error: ${t})`)}}break;default:return Vt||=1280,void b(`GL_INVALID_ENUM in glGet0v: Native code calling glGet0v(${e}) and it returns ${n} of type ${typeof n}!`)}P[t>>2]=r}else Vt||=1281})(e,t),glGetProgramiv:(e,t,r)=>{if(r)if(e>=br)Vt||=1281;else if(e=yr[e],35716==t)null===(e=Xr.getProgramInfoLog(e))&&(e="(unknown error)"),P[r>>2]=e.length+1;else if(35719==t){if(!e.za)for(t=0;t<Xr.getProgramParameter(e,35718);++t)e.za=Math.max(e.za,Xr.getActiveUniform(e,t).name.length+1);P[r>>2]=e.za}else if(35722==t){if(!e.xa)for(t=0;t<Xr.getProgramParameter(e,35721);++t)e.xa=Math.max(e.xa,Xr.getActiveAttrib(e,t).name.length+1);P[r>>2]=e.xa}else if(35381==t){if(!e.ya)for(t=0;t<Xr.getProgramParameter(e,35382);++t)e.ya=Math.max(e.ya,Xr.getActiveUniformBlockName(e,t).length+1);P[r>>2]=e.ya}else P[r>>2]=Xr.getProgramParameter(e,t);else Vt||=1281},glGetString:e=>{var t=Cr[e];if(!t){switch(e){case 7939:t=Or(Ir().join(" "));break;case 7936:case 7937:case 37445:case 37446:(t=Xr.getParameter(e))||(Vt||=1280),t=t?Or(t):0;break;case 7938:t=Or(`OpenGL ES 3.0 (${Xr.getParameter(7938)})`);break;case 35724:var r=(t=Xr.getParameter(35724)).match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==r&&(3==r[1].length&&(r[1]+="0"),t=`OpenGL ES GLSL ES ${r[1]} (${t})`),t=Or(t);break;default:Vt||=1280}Cr[e]=t}return t},glGetUniformBlockIndex:(e,t)=>Xr.getUniformBlockIndex(yr[e],t?re(A,t):""),glGetUniformLocation:(e,t)=>{if(t=t?re(A,t):"",e=yr[e]){var r,n=e,a=n.na,i=n.wb;if(!a)for(n.na=a={},n.vb={},r=0;r<Xr.getProgramParameter(n,35718);++r){var o=Xr.getActiveUniform(n,r),s=o.name;o=o.size;var l=Gr(s);l=0<l?s.slice(0,l):s;var c=n.Wa;for(n.Wa+=o,i[l]=[o,c],s=0;s<o;++s)a[c]=s,n.vb[c++]=l}if(n=e.na,a=0,i=t,0<(r=Gr(t))&&(a=parseInt(t.slice(r+1))>>>0,i=t.slice(0,r)),(i=e.wb[i])&&a<i[0]&&(n[a+=i[1]]=n[a]||Xr.getUniformLocation(e,t)))return a}else Vt||=1281;return-1},glInvalidateFramebuffer:(e,t,r)=>{for(var n=Mr[t],a=0;a<t;a++)n[a]=P[r+4*a>>2];Xr.invalidateFramebuffer(e,n)},glLinkProgram:e=>{e=yr[e],Xr.linkProgram(e),e.na=0,e.wb={}},glPixelStorei:(e,t)=>{3317==e?$r=t:3314==e&&(Sr=t),Xr.pixelStorei(e,t)},glReadPixels:(e,t,r,n,a,i,o)=>{if(Xr.Na)Xr.readPixels(e,t,r,n,a,i,o);else{var s=Ur(i);o>>>=31-Math.clz32(s.BYTES_PER_ELEMENT),Xr.readPixels(e,t,r,n,a,i,s,o)}},glRenderbufferStorageMultisample:(e,t,r,n,a)=>Xr.renderbufferStorageMultisample(e,t,r,n,a),glScissor:(e,t,r,n)=>Xr.scissor(e,t,r,n),glShaderSource:(e,t,r,n)=>{for(var a="",i=0;i<t;++i){var o=(o=x[r+4*i>>2])?re(A,o,n?x[n+4*i>>2]:void 0):"";a+=o}Xr.shaderSource(Pr[e],a)},glStencilFunc:(e,t,r)=>Xr.stencilFunc(e,t,r),glStencilFuncSeparate:(e,t,r,n)=>Xr.stencilFuncSeparate(e,t,r,n),glStencilMask:e=>Xr.stencilMask(e),glStencilOp:(e,t,r)=>Xr.stencilOp(e,t,r),glStencilOpSeparate:(e,t,r,n)=>Xr.stencilOpSeparate(e,t,r,n),glTexParameteri:(e,t,r)=>Xr.texParameteri(e,t,r),glTexStorage2D:(e,t,r,n,a)=>Xr.texStorage2D(e,t,r,n,a),glTexStorage3D:(e,t,r,n,a,i)=>Xr.texStorage3D(e,t,r,n,a,i),glTexSubImage2D:(e,t,r,n,a,i,o,s,l)=>{if(Xr.Oa)Xr.texSubImage2D(e,t,r,n,a,i,o,s,l);else if(l){var c=Ur(s);Xr.texSubImage2D(e,t,r,n,a,i,o,s,c,l>>>31-Math.clz32(c.BYTES_PER_ELEMENT))}else{if(l){c=Ur(s);var u=i*((Sr||a)*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[o-6402]||1)*c.BYTES_PER_ELEMENT+$r-1&-$r);l=c.subarray(l>>>31-Math.clz32(c.BYTES_PER_ELEMENT),l+u>>>31-Math.clz32(c.BYTES_PER_ELEMENT))}else l=null;Xr.texSubImage2D(e,t,r,n,a,i,o,s,l)}},glUniform1i:(e,t)=>{var r=Xr,n=r.uniform1i,a=Xr.Hb;if(a){var i=a.na[e];"number"==typeof i&&(a.na[e]=i=Xr.getUniformLocation(a,a.vb[e]+(0<i?`[${i}]`:""))),e=i}else Vt||=1282,e=void 0;n.call(r,e,t)},glUniformBlockBinding:(e,t,r)=>{e=yr[e],Xr.uniformBlockBinding(e,t,r)},glUseProgram:e=>{e=yr[e],Xr.useProgram(e),Xr.Hb=e},glVertexAttribDivisor:(e,t)=>{Xr.vertexAttribDivisor(e,t)},glVertexAttribIPointer:(e,t,r,n,a)=>{Xr.vertexAttribIPointer(e,t,r,n,a)},glVertexAttribPointer:(e,t,r,n,a,i)=>{Xr.vertexAttribPointer(e,t,r,!!n,a,i)},glViewport:(e,t,r,n)=>Xr.viewport(e,t,r,n),provokingVertexWEBGL:function(e,t){(e=Br[e].C.pb)&&e.provokingVertexWEBGL(t)},strftime_l:(e,t,r,n)=>((e,t,r,n)=>{function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return a(e,t,"0")}function o(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.ca;for(e=new Date(new Date(e.da+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Nr(e.getFullYear())?zr:Vr)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=o(t,e)?0>=o(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=x[n+40>>2];for(var u in n={jc:P[n>>2],ic:P[n+4>>2],Ha:P[n+8>>2],Va:P[n+12>>2],Ia:P[n+16>>2],da:P[n+20>>2],R:P[n+24>>2],ca:P[n+28>>2],Lc:P[n+32>>2],hc:P[n+36>>2],kc:c&&c?re(A,c):""},r=r?re(A,r):"",c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(u,"g"),c[u]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),f="January February March April May June July August September October November December".split(" ");for(u in c={"%a":e=>d[e.R].substring(0,3),"%A":e=>d[e.R],"%b":e=>f[e.Ia].substring(0,3),"%B":e=>f[e.Ia],"%C":e=>i((e.da+1900)/100|0,2),"%d":e=>i(e.Va,2),"%e":e=>a(e.Va,2," "),"%g":e=>l(e).toString().substring(2),"%G":l,"%H":e=>i(e.Ha,2),"%I":e=>(0==(e=e.Ha)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Ia-1;t+=(Nr(e.da+1900)?zr:Vr)[r++]);return i(e.Va+t,3)},"%m":e=>i(e.Ia+1,2),"%M":e=>i(e.ic,2),"%n":()=>"\n","%p":e=>0<=e.Ha&&12>e.Ha?"AM":"PM","%S":e=>i(e.jc,2),"%t":()=>"\t","%u":e=>e.R||7,"%U":e=>i(Math.floor((e.ca+7-e.R)/7),2),"%V":e=>{var t=Math.floor((e.ca+7-(e.R+6)%7)/7);if(2>=(e.R+371-e.ca-2)%7&&t++,t)53==t&&(4==(r=(e.R+371-e.ca)%7)||3==r&&Nr(e.da)||(t=1));else{t=52;var r=(e.R+7-e.ca-1)%7;(4==r||5==r&&Nr(e.da%400-1))&&t++}return i(t,2)},"%w":e=>e.R,"%W":e=>i(Math.floor((e.ca+7-(e.R+6)%7)/7),2),"%y":e=>(e.da+1900).toString().substring(2),"%Y":e=>e.da+1900,"%z":e=>{var t=0<=(e=e.hc);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.kc,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0"),c)r.includes(u)&&(r=r.replace(new RegExp(u,"g"),c[u](n)));return(u=oe(r=r.replace(/\0\0/g,"%"),!1)).length>t?0:(y.set(u,e),u.length-1)})(e,t,r,n),upload_image:function(e,t){var r=n.images;r&&(t=r.get(t))&&((e=Br[e].C).pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1))}},Jr=function(){function e(e){return Jr=e.exports,_=Jr.memory,S(),Wt=Jr.__indirect_function_table,F.unshift(Jr.__wasm_call_ctors),j--,n.monitorRunDependencies?.(j),0==j&&(null!==L&&(clearInterval(L),L=null),W&&(e=W,W=null,e())),Jr}var t={env:Kr,wasi_snapshot_preview1:Kr};if(j++,n.monitorRunDependencies?.(j),n.instantiateWasm)try{return n.instantiateWasm(t,e)}catch(e){b(`Module.instantiateWasm callback failed with error: ${e}`),r(e)}return I||=O("webgl2_advanced.wasm")?"webgl2_advanced.wasm":n.locateFile?n.locateFile("webgl2_advanced.wasm",v):v+"webgl2_advanced.wasm",function(e,t){var r=I;return w||"function"!=typeof WebAssembly.instantiateStreaming||O(r)||G(r)||"function"!=typeof fetch?N(r,e,t):fetch(r,{credentials:"same-origin"}).then(n=>WebAssembly.instantiateStreaming(n,e).then(t,function(n){return b(`wasm streaming compile failed: ${n}`),b("falling back to ArrayBuffer instantiation"),N(r,e,t)}))}(t,function(t){e(t.instance)}).catch(r),{}}(),Zr=e=>(Zr=Jr.free)(e),Qr=e=>(Qr=Jr.malloc)(e);n._setWebImage=(e,t,r)=>(n._setWebImage=Jr.setWebImage)(e,t,r);var en=e=>(en=Jr.__getTypeName)(e),tn=n._ma_device__on_notification_unlocked=e=>(tn=n._ma_device__on_notification_unlocked=Jr.ma_device__on_notification_unlocked)(e);n._ma_malloc_emscripten=(e,t)=>(n._ma_malloc_emscripten=Jr.ma_malloc_emscripten)(e,t),n._ma_free_emscripten=(e,t)=>(n._ma_free_emscripten=Jr.ma_free_emscripten)(e,t);var rn,nn=n._ma_device_process_pcm_frames_capture__webaudio=(e,t,r)=>(nn=n._ma_device_process_pcm_frames_capture__webaudio=Jr.ma_device_process_pcm_frames_capture__webaudio)(e,t,r),an=n._ma_device_process_pcm_frames_playback__webaudio=(e,t,r)=>(an=n._ma_device_process_pcm_frames_playback__webaudio=Jr.ma_device_process_pcm_frames_playback__webaudio)(e,t,r);function on(){function e(){if(!rn&&(rn=!0,n.calledRun=!0,!$)){if(n.noFSInit||Te||(Te=!0,n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?Ve("stdin",n.stdin):Ge("/dev/tty","/dev/stdin"),n.stdout?Ve("stdout",null,n.stdout):Ge("/dev/tty","/dev/stdout"),n.stderr?Ve("stderr",null,n.stderr):Ge("/dev/tty1","/dev/stderr"),Ne("/dev/stdin",0),Ne("/dev/stdout",1),Ne("/dev/stderr",1)),be=!1,Y(F),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;){var e=n.postRun.shift();R.unshift(e)}Y(R)}}if(!(0<j)){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)T();Y(D),0<j||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),e()},1)):e())}}if(n.dynCall_iiiji=(e,t,r,a,i,o)=>(n.dynCall_iiiji=Jr.dynCall_iiiji)(e,t,r,a,i,o),n.dynCall_iij=(e,t,r,a)=>(n.dynCall_iij=Jr.dynCall_iij)(e,t,r,a),n.dynCall_iiji=(e,t,r,a,i)=>(n.dynCall_iiji=Jr.dynCall_iiji)(e,t,r,a,i),n.dynCall_jii=(e,t,r)=>(n.dynCall_jii=Jr.dynCall_jii)(e,t,r),n.dynCall_vijj=(e,t,r,a,i,o)=>(n.dynCall_vijj=Jr.dynCall_vijj)(e,t,r,a,i,o),n.dynCall_jiji=(e,t,r,a,i)=>(n.dynCall_jiji=Jr.dynCall_jiji)(e,t,r,a,i),n.dynCall_viijii=(e,t,r,a,i,o,s)=>(n.dynCall_viijii=Jr.dynCall_viijii)(e,t,r,a,i,o,s),n.dynCall_iiiiij=(e,t,r,a,i,o,s)=>(n.dynCall_iiiiij=Jr.dynCall_iiiiij)(e,t,r,a,i,o,s),n.dynCall_iiiiijj=(e,t,r,a,i,o,s,l,c)=>(n.dynCall_iiiiijj=Jr.dynCall_iiiiijj)(e,t,r,a,i,o,s,l,c),n.dynCall_iiiiiijj=(e,t,r,a,i,o,s,l,c,u)=>(n.dynCall_iiiiiijj=Jr.dynCall_iiiiiijj)(e,t,r,a,i,o,s,l,c,u),W=function e(){rn||on(),rn||(W=e)},n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return on(),a}),u="wasm-bytes";let d=null;async function f(){return d||(d=await async function(e,t,r){return new Promise((e,t)=>{const n=indexedDB.open("rive-block-wasm-cache",2);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),r&&(n.onupgradeneeded=e=>{r(e.target.result)})})}(0,0,e=>{e.objectStoreNames.contains("compiled-modules")&&e.deleteObjectStore("compiled-modules"),e.objectStoreNames.contains(u)||(e.createObjectStore(u,{keyPath:"filename"}),window.riveBlockData?.debug&&console.log("[Rive IDB] Database upgraded to v2 (raw bytes storage)"))}),d)}const h=new class{constructor(){this.riveRuntime=null,this.isLoading=!1,this.callbacks=[],this.customWasmUrl=null,this.logPrefix="[Rive Block IDB]"}setWasmUrl(e){this.riveRuntime?console.warn("[Rive Block] Runtime already loaded. WASM URL change will not take effect."):this.customWasmUrl=e}setLogPrefix(e){this.logPrefix=e}async load(){if(this.riveRuntime)return this.riveRuntime;if(this.isLoading)return new Promise(e=>{this.callbacks.push(e)});this.isLoading=!0;try{const e="webgl2_advanced.wasm";let t=this.customWasmUrl;if(!t){const e=window.riveBlockData?.pluginUrl;e&&(t=e.replace(/\/$/,""))}const r=t?`${t}/build/rive-block/${e}`:`build/rive-block/${e}`,n=await async function(e,t="[Rive IDB]"){try{const r=await f(),n=await async function(e,t,r,n="[IDB]"){try{const a=e.transaction([t],"readonly").objectStore(t),i=await new Promise((e,t)=>{const n=a.get(r);n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)});return i?(window.riveBlockData?.debug&&console.log(`${n} Loaded from store: ${t}`),i):(window.riveBlockData?.debug&&console.log(`${n} Data not found in store: ${t}`),null)}catch(e){return console.error(`${n} Failed to load from store:`,e),null}}(r,u,e,t);if(n&&n.bytes){if(window.riveBlockData?.debug){const r=Math.round((Date.now()-n.timestamp)/1e3),a=Math.round(n.bytes.byteLength/1024);console.log(`${t} Loaded WASM bytes: ${e} (${a} KB, cached ${r}s ago)`)}return n.bytes}return null}catch(e){return console.error(`${t} Failed to load WASM bytes:`,e),null}}(e,this.logPrefix),a=performance.now();this.riveRuntime=await c({locateFile:e=>t?`${t}/build/rive-block/${e}`:`build/rive-block/${e}`,instantiateWasm:async(t,a)=>{try{let i,o;if(n)window.riveBlockData?.debug&&console.log(`${this.logPrefix} Compiling cached WASM bytes to module`),o=await WebAssembly.compile(n),i=await WebAssembly.instantiate(o,t);else{window.riveBlockData?.debug&&console.log(`${this.logPrefix} Fetching WASM bytes from network (first load)`);const n=await fetch(r),a=await n.arrayBuffer();o=await WebAssembly.compile(a),i=await WebAssembly.instantiate(o,t),await async function(e,t,r="[Rive IDB]"){try{const n=await f(),a={filename:e,bytes:t,timestamp:Date.now()};if(await async function(e,t,r,n="[IDB]"){window.riveBlockData?.debug&&console.log(`${n} Starting save to store: ${t}`);try{const a=e.transaction([t],"readwrite"),i=a.objectStore(t).put(r);await new Promise((e,t)=>{i.onsuccess=()=>{},i.onerror=()=>t(i.error),a.oncomplete=()=>e(),a.onerror=()=>t(a.error)}),window.riveBlockData?.debug&&console.log(`${n} Saved to store: ${t}`)}catch(e){throw console.error(`${n} Failed to save to store:`,e),e}}(n,u,a,r),window.riveBlockData?.debug){const n=Math.round(t.byteLength/1024);console.log(`${r} Saved WASM bytes: ${e} (${n} KB)`)}}catch(e){console.error(`${r} Failed to save WASM bytes:`,e)}}(e,a,this.logPrefix)}return a(i,o),i.exports}catch(e){throw console.error(`${this.logPrefix} WASM instantiation failed:`,e),e}}});const i=Math.round(performance.now()-a);return window.riveBlockData?.debug&&(console.log(`[Rive Block] Rive runtime loaded in ${i}ms`),console.log("[Rive Block] Renderer: WebGL2-Advanced"),console.log("[Rive Block] WASM caching: IndexedDB (raw bytes)")),this.callbacks.forEach(e=>e(this.riveRuntime)),this.callbacks=[],this.riveRuntime}catch(e){throw console.error("[Rive Block] Failed to load Rive runtime:",e),this.isLoading=!1,e}}},m="[Rive Block]";h.setLogPrefix("[Rive Block IDB]");const g=new class{constructor(e,t,r=null,n="[Rive]"){this.getCachedFile=e,this.setCachedFile=t,this.isUrlLoaded=r,this.logPrefix=n}async load(e,t){const r=this.getCachedFile(t);if(r)return window.riveBlockData?.debug&&console.log(`${this.logPrefix} Cache hit: ${t}`),r;const n=!this.isUrlLoaded||!this.isUrlLoaded(t);window.riveBlockData?.debug&&(console.log(`${this.logPrefix} In-memory cache miss, fetching: ${t}`),this.isUrlLoaded&&console.log(`${this.logPrefix} Note: Browser HTTP cache may serve this without network transfer`));let a="default";this.isUrlLoaded&&!n&&(a="force-cache");const i=await fetch(t,{cache:a});if(!i.ok)throw new Error(`Failed to fetch: ${i.statusText}`);if(window.riveBlockData?.debug){const e=performance.getEntriesByName(t,"resource"),r=e[e.length-1];r&&0===r.transferSize?console.log(`${this.logPrefix} ✓ HTTP cache hit (0 bytes transferred): ${t}`):r&&console.log(`${this.logPrefix} ↓ Downloaded ${r.transferSize} bytes: ${t}`)}const o=await i.arrayBuffer(),s=new Uint8Array(o),l=await e.load(s);return this.setCachedFile(t,l),window.riveBlockData?.debug&&console.log(`${this.logPrefix} Successfully loaded: ${t}`),l}}(function(t){return e.get(t)||null},function(n,a){e.set(n,a),t.add(n),window.riveBlockData?.debug&&console.log(`${r} Cached: ${n} (${e.size()} files in cache)`)},function(e){return t.has(e)},"[Rive Block]"),v=new class{constructor(e){this.fileLoader=e,this.riveInstances=new Map,this.currentPageUrl=window.location.href}async initialize(){const e=window.location.href;e!==this.currentPageUrl&&(this.cleanup(),this.currentPageUrl=e);const t=document.querySelectorAll("canvas.wp-block-create-block-rive-block");if(0!==t.length)try{const e=await h.load(),r=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=[],a=[];t.forEach(e=>{"high"===(e.dataset.loadingPriority||"low")?n.push(e):a.push(e)});for(const t of n)await this.initInstance(e,t,r);if(a.length>0){const t=new IntersectionObserver(n=>{n.forEach(async n=>{if(n.isIntersecting){const a=n.target;if(this.riveInstances.has(a))return;await this.initInstance(e,a,r),t.unobserve(a)}})},{root:null,rootMargin:"50px",threshold:.01});a.forEach(e=>t.observe(e))}}catch(e){console.error("[Rive Block] Error initializing Rive animations:",e)}}async initInstance(e,t,r){const l=t.dataset.riveSrc;if(!l)return void console.warn("[Rive Block] Canvas missing data-rive-src attribute");const c="true"===t.dataset.enableAutoplay,u="false"!==t.dataset.respectReducedMotion,d=c&&!(u&&r);try{const r=await this.fileLoader.load(e,l),c=r.defaultArtboard();n(t,m);const u=e.makeRenderer(t,!0);window.riveBlockData?.debug&&(console.log("[Rive Block] Renderer created for:",l),console.log("[Rive Block] Artboard:",c.name),console.log("[Rive Block] Canvas size:",`${t.width}×${t.height}`),console.log("[Rive Block] Animations available:",c.animationCount()),console.log("[Rive Block] Autoplay:",d));let f=null,h=60;if(c.animationCount()>0){const t=c.animationByIndex(0);f=new e.LinearAnimationInstance(t,c),h=t.fps||60,window.riveBlockData?.debug&&console.log("[Rive Block] Animation FPS (from .riv):",h)}const g={rive:e,file:r,artboard:c,renderer:u,animation:f,animationFPS:h,canvas:t,shouldAutoplay:d,animationFrameId:null,resizeObserver:null};this.riveInstances.set(t,g);let v=null;const w=new ResizeObserver(e=>{v&&clearTimeout(v),v=setTimeout(()=>{for(const r of e)r.target===t&&n(t,m)&&!g.shouldAutoplay&&i(g)},150)});w.observe(t),g.resizeObserver=w,d&&f?(a(g),function(e,t){const r=new IntersectionObserver(r=>{r.forEach(r=>{r.isIntersecting?(window.riveBlockData?.debug&&console.log(`[Rive Block] Resuming animation (entered viewport): ${e.dataset.riveSrc}`),function(e){if(!e)return;const{shouldAutoplay:t,animationFrameIdRef:r}=e;o(r||e)||t&&a(e)}(t)):(window.riveBlockData?.debug&&console.log(`[Rive Block] Pausing animation (left viewport): ${e.dataset.riveSrc}`),function(e){if(!e)return;const{rive:t,animationFrameIdRef:r}=e,n=r||e,a=o(n);a&&(t.cancelAnimationFrame(a),s(n,null))}(t))})},{root:null,rootMargin:"0px",threshold:.3});r.observe(e),t.viewportObserver=r}(t,g)):i(g),window.riveBlockData?.debug&&console.log(`[Rive Block] Successfully loaded: ${l}`)}catch(e){console.error(`[Rive Block] Failed to load Rive file: ${l}`,e),function(e){const t=document.createElement("div");t.className="rive-block-error",t.style.cssText=`\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: ${e.style.width||"100%"};\n\t\theight: ${e.style.height||"auto"};\n\t\tbackground-color: #f0f0f0;\n\t\tcolor: #666;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n\t\tfont-size: 14px;\n\t\tpadding: 20px;\n\t\ttext-align: center;\n\t\tborder: 1px solid #ddd;\n\t\tborder-radius: 4px;\n\t`,t.textContent="Unable to load animation. Please refresh the page.",e.parentNode&&e.parentNode.replaceChild(t,e)}(t)}}cleanup(){this.riveInstances.forEach(e=>{try{const{rive:t,animation:r,renderer:n,artboard:a,animationFrameId:i,viewportObserver:o,resizeObserver:s}=e;i&&t.cancelAnimationFrame(i),o&&o.disconnect(),s&&s.disconnect(),r&&r.delete(),n&&n.delete(),a&&a.delete()}catch(e){console.warn("[Rive Block] Error cleaning up instance:",e)}}),this.riveInstances.clear(),e.cache.forEach((e,t)=>{try{e.unref(),window.riveBlockData?.debug&&console.log(`${r} Unreffed: ${t}`)}catch(e){console.warn(`${r} Error unreffing ${t}:`,e)}}),e.clear(),t.clear(),window.riveBlockData?.debug&&console.log(`${r} Cache cleared`)}}(g);"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>v.initialize()):v.initialize(),window.addEventListener("pageshow",e=>{e.persisted&&(window.riveBlockData?.debug&&console.log("[Rive Block] Page restored from bfcache, re-initializing animations"),v.initialize())})})();